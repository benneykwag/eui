Ext.define("Override.Component",{override:"Ext.Component",localeProperties:"html",_localeRe:/^{(.+)}$/,initComponent:function(){this.doLocale();this.callParent(arguments)},_createLocaleSetter:function(f){var c=this.getConfigurator(),d=c.configs[f],b=Ext.getStore("i18n"),e=this._localeRe,g,h,a;if(Ext.isEmpty(b)){console.log("다국어 지원을 위한 데이터를 제공받지 못했습니다...",arguments);return null}if(!d){d=c.configs[f]=new Ext.Config(f)}g=d.names.set;h=this[g];if(h.isLocaleSetter){a=h}else{a=this[g]=function(s){var l,j,r,o;if(s&&Ext.typeOf(s)=="string"&&(s.indexOf("#")!=-1)){var m=s.split("#"),q=m.length;for(var n=1;n<q;n++){var k;if(m[n].split("}").length==2){k=m[n].split("}")[0]+"}"}l=e.exec(k);if(l){if(n===1){s=m[0]}j=l[1];o=j&&b.findRecord("MSG_ID",j,0,false,false,true);s+=(o?o.get("MSG_LABEL"):j)+m[n].split("}")[1]}else{s=m[n]}}}return h.call(this,s)};a.isLocaleSetter=true}return a},doLocale:function(){var d=this,b=Ext.Array.from(d.localeProperties),a=0,c=b.length,f,e,g;for(;a<c;a++){f=b[a];e=d[f];if(e&&Ext.typeOf(e)=="string"&&(e.indexOf("#")!=-1)){g=d._createLocaleSetter(f);if(e&&!Ext.isEmpty(g)){g.call(d,e)}}}}});Ext.define("Override.data.Model",{override:"Ext.data.Model",recordValidationCheck:function(){if(!this.isValid()){var a=this.getValidation(),b=a.modified;for(var d in b){var c=b[d];if(c){if(!Ext.isBoolean(a.get(d))){Ext.Msg.alert("확인",a.get(d))}}}return false}return true}});Ext.define("Override.data.ProxyStore",{override:"Ext.data.ProxyStore",recordsValidationCheck:function(){var d=this.getDataSource(),b=d.items,a=b.length,c,e=true;for(c=0;c<a;c++){if(!b[c].recordValidationCheck()){e=false;break}}return e},checkSync:function(a){if(this.recordsValidationCheck()){this.sync(a);if(!this.isSyncing){Ext.Msg.alert("확인","저장 할 레코드가 없습니다.")}}return this}});Ext.define("Override.container.Container",{override:"Ext.container.Container"});Ext.define("Override.panel.Panel",{override:"Ext.panel.Panel",localeProperties:["title"]});Ext.define("Override.window.Window",{override:"Ext.window.Window",localeProperties:["title"],initComponent:function(){this.callParent(arguments)}});Ext.define("eui.mixin.FormField",{extend:"Ext.Mixin",mixinConfig:{},setAllowBlank:function(){if(this.allowBlank!==undefined&&!this.allowBlank){if(!this.fieldLabel){this.fieldLabel=""}this.fieldLabel='<span style="color:red">*</span>'+this.fieldLabel}},setCheckboxGroupRadioGroupBindVar:function(){if(!this.getBind()){return}var b=this,e=this.getBind(),a=e.value.stub.name,c=e.value.stub.path,d=c.split(".")[0];this.name=a;this.setViewModel({formulas:{radioValue:{bind:"{"+c+"}",get:function(h){var g=this.get(d);if(g.isModel&&this.get(d).validate().map[a]){b.allowBlank=false}var f={};f[a]=h;return f},set:function(f){this.set(c,f[a])}}}});this.setBind({value:"{radioValue}"})},setCustomDefaultValue:function(c){if(!c.getBind()){return}var b=this,a=c.getBind().value.stub.path;if(c.getBind()&&c.getBind()["value"]&&(c.getBind().value.stub.hadValue==undefined)){b.getViewModel().set(a,c.getValue())}}});Ext.define("Override.form.field.Base",{override:"Ext.form.field.Base",mixins:["eui.mixin.FormField"],initComponent:function(){this.setAllowBlank();this.callParent(arguments);this.on("render",function(){if(this.previousSibling()&&this.previousSibling().xtype=="euilabel"&&!this.allowBlank){this.previousSibling().addCls("fo-required")}})}});Ext.define("Override.grid.column.Column",{override:"Ext.grid.column.Column",localeProperties:["text"],initComponent:function(){this.callParent(arguments)}});Ext.define("eui.Config",{singleton:true,alternateClassName:["Config"],localeCode:"kr",localeValueField:"MSG_ID",localeDisplayField:"MSG_LABEL",localeUrl:null,initLocaleMessage:function(){var c=this,b=Ext.create("Ext.data.Store",{fields:[],storeId:"i18n"});var a={pMethod:"GET",url:Config.localeUrl,params:{locale:Config.localeCode},pSync:false,pCallback:function(d,e,f){b.loadData(f.data);b.add(Config.data.message);c.mergeMessageData()}};if(Config.localeUrl){Util.CommonAjax(a)}else{b.add(Config.data.message);c.mergeMessageData()}},mergeMessageData:function(){var a=Ext.getStore("i18n");if(!Ext.isArray(Config.message)){return}Ext.each(Config.message,function(c){var b=a.findRecord(Config.localeValueField,c[Config.localeValueField],0,false,false,true);if(b){b.set(Config.localeDisplayField,c[Config.localeDisplayField])}else{a.add(c)}})},data:{message:[{MSG_ID:"행추가",MSG_LABEL:"행추가"},{MSG_ID:"행추가아이콘",MSG_LABEL:"x-fa fa-plus-square"},{MSG_ID:"행삭제",MSG_LABEL:"행삭제"},{MSG_ID:"행삭제아이콘",MSG_LABEL:"x-fa fa-minus-square"},{MSG_ID:"등록",MSG_LABEL:"등록"},{MSG_ID:"등록아이콘",MSG_LABEL:"x-fa fa-table"},{MSG_ID:"수정",MSG_LABEL:"수정"},{MSG_ID:"수정아이콘",MSG_LABEL:"x-fa fa-th"},{MSG_ID:"저장",MSG_LABEL:"저장"},{MSG_ID:"저장아이콘",MSG_LABEL:"x-fa fa-save"}]}});Ext.define("sprr.DummyClass",{});Ext.define("eui.DummyClass",{});Ext.define("eui.Util",{singleton:true,alternateClassName:["Util"],localeStoreValueField:"MSG_ID",localeStoreDisplayField:"MSG_CONTENTS",UrlPrefix:null,localeLang:"ko",webosShowWindowId:null,currentAjaxButtonId:null,ajaxButtonDisabled:function(a){if(a){}var b=Ext.getCmp(Util.currentAjaxButtonId);if(b){b.setDisabled(a)}if(!a){Util.currentAjaxButtonId=null}},global_setOverride:function(){Ext.override(Ext.data.Store,{});Ext.require("Util",function(){Ext.Ajax.on("beforerequest",function(c,a,b){Util.ajaxButtonDisabled(true)});Ext.Ajax.on("requestexception",function(f,b,c){var a=Ext.JSON.decode(b.responseText,true);if(Util.webosShowWindowId){var e=Ext.getCmp(Util.webosShowWindowId);if(e){var g=Ext.getCmp(Util.webosShowWindowId).down("statusbar");g.setStatus({text:a.MSG,clear:false})}}if(a&&parseInt(a.TYPE)===-1){if(a.STATUS===200){Util.showGlobalMsg(a,"INFO")}else{Util.showGlobalMsg(a,"WARNING")}}if(b.status===0){Ext.Msg.show({title:"WARNING",icon:Ext.Msg.ERROR,buttons:Ext.Msg.OK,message:"서버가 응답하지 않습니다. 관리자에게 문의하세요."})}var d="관리자에게 문의하세요.";if(b.status==404){d="페이지가 존재하지 않습니다.";Ext.Msg.show({title:"WARNING",icon:Ext.Msg.ERROR,buttons:Ext.Msg.OK,message:d})}Util.ajaxButtonDisabled(false)});Ext.Ajax.on("requestcomplete",function(e,b,c){var a=Ext.JSON.decode(b.responseText,true);if(Util.webosShowWindowId){var d=Ext.getCmp(Util.webosShowWindowId);if(d){var f=Ext.getCmp(Util.webosShowWindowId).down("statusbar");f.setStatus({text:a.MSG,iconCls:"ok-icon",clear:true})}}if(a&&parseInt(a.TYPE)===0){Util.showGlobalMsg(a,"INFO")}Util.ajaxButtonDisabled(false)})})},global_InitialProcess:function(h){var g=h.data.session,d=h.data.message,f=h.data.dept,c=h.data.cmpsetting;var b=Ext.create("Ext.data.Model",g);var a=Ext.create("Ext.data.Model",f);var e=Ext.create("Ext.data.Store",{fields:[],storeId:"cmpsettingStore"});e.loadData(c);Util.global_setOverride();Util.global_setLocale(d)},global_setLocale:function(b){var a=Ext.create("Ext.data.Store",{fields:[],storeId:"i18n"});a.loadData(b)},globalCheckLogin:function(){Ext.require("Util",function(){var a={url:"api/G1E000000SVC/getInit",params:{},pSync:false,pCallback:function(b,c,d){if(d.TYPE===1){Util.global_InitialProcess(d)}else{Util.globalLoginForm()}}};Util.CommonAjax(a)})},globalLoginForm:function(){Ext.create("com.view.layout.login.HLogin")},globalLoadLocaleScript:function(b){var a;if(location.pathname.indexOf("webos")!=-1){a=Ext.util.Format.format("resources/js/ext-locale/ext-locale-{0}.js",b)}else{a=Ext.util.Format.format("../webos/resources/js/ext-locale/ext-locale-{0}.js",b)}Ext.Loader.loadScript({url:a})},getOwnerCt:function(a){if(!a.rendered){Ext.Error.raise({msg:"전달된 컴포넌트는 렌더링이 완료되지 않았습니다.렌더 이후에 호출하세요."});return null}if(a.up("window")){return a.up("window")}var b=a.up("container")||a.up("panel");if(Ext.isEmpty(b)){Ext.Error.raise({msg:"HBasePanel 또는 HBaseContainer를 찾을 수 없습니다."})}return b},createStore:function(c,b){var a=Ext.create("Ext.data.Store",{autoDestroy:true,autoLoad:this.autoMaticLoad,storeId:this.generateUUID(),fields:b.fields,proxy:{type:"rest",noCache:false,pageParam:false,startParam:false,limitParam:false,headers:{"Content-Type":"application/json;charset=utf-8"},paramsAsJson:true,actionMethods:{create:"POST",read:"POST",update:"POST",destroy:"POST"},url:b.url,reader:{type:"json",rootProperty:"data",transform:b.transform||false},extraParams:b.params}});if(Ext.isDefined(c.bindStore)){c.bindStore(a)}else{c._store=a}return a},commonPopup:function(c,l,j,a,q,d,g,k){var o=function(t,w,s,v){var r=null;if(s){try{r=Ext.create(s,{__PARAMS:v,__PARENT:t})}catch(u){console.log(u.message)}}return r};var i=o(c,l,j,d);var b={title:l,header:true,padding:0,closable:true,constrainHeader:true,maximizable:true,layout:"fit",height:q,width:a,options:d,listeners:{}};b.items=null;if(!Ext.isEmpty(g)){for(var h in g){var m=g[h];b[h]=m}}b.items=[i];if(c&&k){var n=c.down("commandtoolbar"),e=c.down("pagingtoolbar"),f=Ext.create("Ext.window.Window",b);return c.add(f)}return Ext.create("Ext.window.Window",b)},generateUUID:function(){var b=new Date().getTime();var a="xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,function(e){var d=(b+Math.random()*16)%16|0;b=Math.floor(b/16);return(e=="x"?d:(d&7|8)).toString(16)});return a},commonTreeItem:function(){var a=[];Ext.Ajax.request({async:false,url:"resources/data/treesmpl.json",failure:function(e,b,c,d){Ext.Msg.show({title:"Error!",msg:e.responseText,icon:Ext.Msg.ERROR,buttons:Ext.Msg.OK})},success:function(g,c,d,e){var f=this;var b=Ext.JSON.decode(g.responseText,true);a=b}});return a},CommonAjax:function(j){var i=j.svcId||"CMAJAX",e=j.url,f=j.inDs,g=j.outDs,m=j.params,h=j.pCallback,d=j.pSync,a=j.pScope,q=j.method,n=j.timeoutSeq,c=null;if(m){c=m.__scopeGrid;delete m.__scopeGrid}var b=function(s,r,u){if(!Ext.isEmpty(r)){if(Ext.isString(r)){try{s.params=Ext.applyIf(s.params,Ext.Object.fromQueryString(r))}catch(t){console.log(t.message)}return s}else{if(Ext.isObject(r)){s.params=Ext.applyIf(s.params,r)}return s}}return s};var l=function(u,t,s,v,r){u.params={};u.jsonData={};if(!Ext.isEmpty(s)){u.jsonData=Ext.applyIf(u.jsonData,s)}if(!Ext.isEmpty(t)){u=b(u,t,v)}if(!Ext.isEmpty(u.params)){u.jsonData=Ext.applyIf(u.jsonData,u.params)}delete u.params;return u};if(!!n){n=n*1000}else{n=30000}var k="";var o={async:d,method:(q?q:"GET"),timeout:n,disableCaching:false,url:e,success:function(r,v){var t=Ext.decode(r.responseText);if(!d){k=t}if(g){var u=Object.keys(g);for(var s=0;s<u.length;s++){g[u[s]].loadData(t[u[s]]);g[u[s]].commitChanges()}}if(Ext.isFunction(h)){if(c){Ext.callback(h,a||this,[c,m,t])}else{Ext.callback(h,a||this,[a||this,m,t,i])}}},failure:function(r,s){}};o=l(o,m,f,g,a);Ext.Ajax.request(o);if(!d){return k}},showGlobalMsg:function(a,b){Ext.require("Ext.window.MessageBox",function(){if(a.DESC){Ext.Msg.show({icon:Ext.Msg[b],title:b,width:400,resizable:true,height:400,defaultTextHeight:300,value:a.DESC,textAreaReadOnly:true,message:a.MSG,buttons:Ext.Msg.OK,multiline:true})}else{Ext.Msg.show({title:b,icon:Ext.Msg[b],buttons:Ext.Msg.OK,message:a.MSG})}})},getDatasetParam:function(h){var g=h;var a={deletedData:[],data:[]};function j(l,m,i){var k=i.get(m.name);if(m.type==="date"&&m.dateFormat&&Ext.isDate(k)){l[m.name]=Ext.Date.format(k,m.dateFormat)}else{if(m.type==="boolean"){l[m.name]=k?"1":"0"}else{l[m.name]=k}}}function f(i){return i.getData()}var b=g.getNewRecords();var e=b.length;for(var d=0;d<e;d++){var c=f(b[d]);c=Ext.apply(c,{__rowStatus:"I"});a.data.push(c)}b=g.getUpdatedRecords(),e=b.length;for(var d=0;d<e;d++){var c=f(b[d]);c=Ext.apply(c,{__rowStatus:"U"});a.data.push(c)}b=g.getRemovedRecords(),e=b.length;for(var d=0;d<e;d++){a.deletedData.push(f(b[d]))}return a},getAllDatasetParam:function(){var f=this;var b={deletedData:[],data:[]};function c(k,l,i){var j=i.get(l.name);if(l.type===Ext.data.Types.DATE&&l.dateFormat&&Ext.isDate(j)){k[l.name]=Ext.Date.format(j,l.dateFormat)}else{if(l.type===Ext.data.Types.BOOL){k[l.name]=j?"1":"0"}else{k[l.name]=j}}}function g(l){var o={},k=l.fields,m=k.items,q,j=m.length;for(var n=0;n<j;n++){q=m[n];c(o,q,l)}return o}var d=f.getRange();var a=d.length;for(var e=0;e<a;e++){var h=g(d[e]);h=Ext.apply(h,{__rowStatus:""});b.data.push(h)}return b},getIsDirty:function(){return(this.getNewRecords().length>0||this.getUpdatedRecords().length>0||this.getRemovedRecords().length>0)},getLocaleValue:function(c){var b=Ext.getStore("i18n");var a=id&&b.findRecord("MSG_ID",c,0,false,false,true);if(a){return a.get("MSG_LABEL")}return""},config:{contextPath:"eui",baseUrl:"controller/router"},constructor:function(a){this.initConfig(a);this.init()},init:function(){Ext.EventManager.on(Ext.isIE?document:window,"keydown",function(b,a){if(b.getKey()==b.BACKSPACE&&((!/^input$/i.test(a.tagName)&&!/^textarea$/i.test(a.tagName))||a.disabled||a.readOnly)){b.stopEvent()}});Ext.getDoc().on("contextmenu",function(a){a.preventDefault()})},sessionValidation:function(){var a={url:Ext.util.Format.format("/{0}/{1}/",this.getContextPath(),this.getBaseUrl()),async:true,method:"POST",success:function(c,d){if(!Ext.isEmpty(c.responseText)){var e=Ext.decode(c.responseText),b=e[0].result;this.sessionValidationCallback(b)}},failure:function(c,d){if(!Ext.isEmpty(c.responseText)){var e=Ext.decode(c.responseText),b=e[0].result;this.sessionValidationCallback(b)}},jsonData:{action:"",method:"",tid:Ext.id(),type:"rpc",data:{}},scope:this,timeout:30000,disableCaching:false};Ext.Ajax.request(a)},sessionValidationCallback:function(a){},createDirectStore:function(c,b,a){return{xclass:"eui.data.DirectStore",storeId:Ext.util.Format.format("{0}-{1}",b,Ext.id()),fields:a,proxy:{type:"direct",directFn:c,reader:{type:"json",rootProperty:b,totalProperty:"totalCount"}}}}});Ext.define("eui.button.Button",{extend:"Ext.button.Button",xtype:"euibutton",config:{showText:true},localeProperties:["text","iconCls"],margin:"0 5 2 0",initComponent:function(){var a=this;if(!a.getShowText()){delete a.text}a.callParent(arguments)}});Ext.define("eui.container.BaseContainer",{extend:"Ext.container.Container",alias:"widget.spbasecontainer",mixins:[],scrollable:"y",layout:{type:"vbox",align:"stretch"},style:{"background-color":"white"},initComponent:function(){var a=this;a.callParent(arguments)}});Ext.define("eui.container.PopupContainer",{extend:"Ext.container.Container",alias:"widget.sppopupcontainer",initComponent:function(){var a=this;a.callParent(arguments)},parentCallBack:function(a,c,d){var b=this.__PARENT;if(!Ext.isEmpty(b)&&!Ext.isEmpty(b.callBack)){Ext.callback(b.callBack,b,[b,a,c||b.valueField,d||b.displayField])}else{if(Ext.isFunction(this.__PARENT.popupCallback)){this.__PARENT.popupCallback([a,c,d])}}Util.getOwnerCt(this).close()}});Ext.define("eui.controller.InitController",{extend:"Ext.app.Controller",alias:"controller.spinit",constructor:function(a){a=a||{};if(this.globalUrlPrefix){Util.HurlPrefix=this.globalUrlPrefix}Util.localeStoreDisplayField=this.localeStoreDisplayField;Util.localeStoreValueField=this.localeStoreValueField;var b=Ext.create("Ext.data.Store",{fields:[],storeId:"i18n"});Ext.apply(a,{url:Util.HurlPrefix+this.localeStoreUrl,pSync:false,outDs:{data:Ext.getStore("i18n")}});if(this.localeStoreUrl){Util.CommonAjax(a)}Util.globalCheckLogin();this.callParent(this.processInitialController(a))},processInitialController:function(a){return a},init:function(a){console.log("init",this.localeUrl)}});Ext.define("eui.data.DirectStore",{extend:"Ext.data.DirectStore",constructor:function(a){var b=this;b.callParent([a]);if(b.proxy){var d=Ext.direct.Manager.getProvider("euiprovider");if(b.proxy.api){for(p in b.proxy.api){var c=b.proxy.api[p].substring(0,b.proxy.api[p].lastIndexOf("."));var e=b.proxy.api[p].substring(b.proxy.api[p].lastIndexOf(".")+1,b.proxy.api[p].length);if(!d.actions[c]){d.actions[c]=[{name:e,len:1}]}else{d.actions[c].push({name:e,len:1})}}d.initAPI()}if(b.proxy.directFn){var c=b.proxy.directFn.substring(0,b.proxy.directFn.lastIndexOf("."));var e=b.proxy.directFn.substring(b.proxy.directFn.lastIndexOf(".")+1,b.proxy.directFn.length);if(!d.actions[c]){d.actions[c]=[{name:e,len:1}]}else{d.actions[c].push({name:e,len:1})}d.initAPI()}}},getPostData:function(k,e,a){var j=this,b={deletedData:[],data:[]},k=k||false,c,g;function l(n,o,i){if(o.name==="id"){return}var m=i.get(o.name);if(o.type===Ext.data.Types.DATE&&o.dateFormat&&Ext.isDate(m)){n[o.name]=Ext.Date.format(m,o.dateFormat)}else{if(o.type===Ext.data.Types.BOOL.type){n[o.name]=m?e||"1":a||"0"}else{n[o.name]=m}}}function h(o){var s={},n=o.fields,q=n.items,t,m=q.length;for(var r=0;r<m;r++){t=q[r];l(s,t,o)}return s}if(k){c=j.getRange();g=c.length;for(var f=0;f<g;f++){var d=h(c[f]);d=Ext.apply(d,{__rowStatus:""});b.data.push(d)}}else{c=j.getNewRecords();g=c.length;for(var f=0;f<g;f++){var d=h(c[f]);d=Ext.apply(d,{__rowStatus:"I"});b.data.push(d)}c=j.getUpdatedRecords(),g=c.length;for(var f=0;f<g;f++){var d=h(c[f]);d=Ext.apply(d,{__rowStatus:"U"});b.data.push(d)}c=j.getRemovedRecords(),g=c.length;for(var f=0;f<g;f++){b.deletedData.push(h(c[f]))}}return b},getIsDirty:function(){return(this.getNewRecords().length>0||this.getUpdatedRecords().length>0||this.getRemovedRecords().length>0)}});Ext.define("eui.store.LocaleStore",{extend:"Ext.data.Store"});Ext.define("eui.form.CheckboxGroup",{extend:"Ext.form.CheckboxGroup",xtype:"euicheckboxgroup",mixins:["eui.mixin.FormField"],cellCls:"fo-table-row-td",width:"100%",initComponent:function(){this.setCheckboxGroupRadioGroupBindVar();this.setAllowBlank();this.callParent(arguments)}});Ext.define("eui.form.FieldContainer",{extend:"Ext.form.FieldContainer",alias:"widget.spfieldcontainer",cellCls:"fo-table-row-td",width:"100%",layout:"column",defaults:{width:"50%"},initComponent:function(){var a=this;a.callParent(arguments)}});Ext.define("eui.form.Label",{extend:"Ext.form.Label",alias:"widget.euilabel",cellCls:"fo-table-row-th",allowBlank:true,localeProperties:["html","text"],initComponent:function(){var a=this;if(a.allowBlank===false){Ext.apply(a,{cls:"fo-required"})}a.callParent(arguments)}});Ext.define("eui.mixin.Panel",{extend:"Ext.Mixin",mixinConfig:{},config:{hiddenBtmTbar:false,defaultToolbarPosition:"top",defaultToolbarUi:"default"},applyButtonToolBar:function(a,b){var c=this;if(c.bbar||c.hiddenBtmTbar){return}if(b){Ext.each(b,function(e){if(e.insertBefore){a.unshift(e)}else{a.push(e)}})}a.unshift("->");var d=0;Ext.each(a,function(f,e){if(e>0&&(f.hidden==false||f.hidden===undefined)){d++}});if(d>0){if(Ext.isEmpty(c.dockedItems)){c.dockedItems=[]}console.log("me.getDefaultUi():",c.getDefaultToolbarUi());c.dockedItems.push({xtype:"toolbar",ui:c.getDefaultToolbarUi(),dock:c.getDefaultToolbarPosition(),items:a})}return a}});Ext.define("eui.form.Panel",{extend:"Ext.form.Panel",alias:"widget.euiform",localeProperties:["title"],requires:["eui.button.Button","Ext.layout.container.Column","eui.button.Button","Ext.layout.container.Table"],mixins:["eui.mixin.Panel"],cls:"eui-form-table",collapsed:false,collapsible:false,modelValidation:true,config:{hiddenBtmTbar:false,hiddenCloseBtn:true,hiddenHeader:false,hiddenSearchBtn:true,hiddenPrintBtn:true,hiddenDeleteBtn:true,hiddenSaveBtn:true,hiddenClearBtn:true,useTableLayout:true,tableColumns:4,hbuttons:null},initComponent:function(){var a=this;a.setTableLayout();a.callParent(arguments);a.on("afterrender",function(){a.isValid()},a,{delay:500})},setBottomToolbar:function(){var b=this;var a=[{xtype:"euibutton",formBind:true,disabled:true,code:"search",iconCls:"x-fa fa-search-plus",text:"검색",hidden:b.getHiddenSearchBtn(),listeners:{click:{fn:function(d,f,c){b.fireEvent("baseformsearch",b)}}}},{xtype:"euibutton",formBind:true,code:"save",iconCls:"x-fa fa-save",text:"저장",hidden:b.getHiddenSaveBtn(),listeners:{click:{fn:function(d,f,c){b.fireEvent("baseformsave",b)}}}},{xtype:"euibutton",formBind:true,disabled:true,code:"delete",iconCls:"x-fa fa-eraser",text:"삭제",hidden:b.getHiddenDeleteBtn(),listeners:{click:{fn:function(d,f,c){b.fireEvent("baseformdelete",b)}}}},{xtype:"euibutton",code:"delete",text:"닫기",iconCls:"x-fa fa-sign-out",hidden:b.getHiddenCloseBtn(),handler:function(){var c=Util.getOwnerCt(this);if(Util.getOwnerCt(this).xtype==="window"){c.close()}else{Ext.Error.raise({msg:"닫기 버튼은 팝업에서만 사용가능합니다."})}}},{xtype:"euibutton",code:"delete",text:"출력",iconCls:"x-fa fa-print",hidden:b.getHiddenPrintBtn(),handler:function(){var c=Util.getOwnerCt(this);if(Util.getOwnerCt(this).xtype==="window"){c.close()}else{Ext.Error.raise({msg:"닫기 버튼은 팝업에서만 사용가능합니다."})}}},{xtype:"euibutton",code:"clear",text:"취소",iconCls:"x-fa fa-retweet",hidden:b.getHiddenClearBtn(),handler:function(){var c=Util.getOwnerCt(this);if(Util.getOwnerCt(this).xtype==="window"){c.close()}else{Ext.Error.raise({msg:"닫기 버튼은 팝업에서만 사용가능합니다."})}}}];this.applyButtonToolBar(a,b.otherButtons)},setTableLayout:function(){var a=this;if(a.getUseTableLayout()){Ext.apply(a,{layout:{type:"table",columns:a.getTableColumns(),tableAttrs:{style:{width:"100%"}}}})}},setHeader:function(){var a=this;var b={titlePosition:0,hidden:a.getHiddenHeader(),items:[{xtype:"euibutton",iconCls:"x-fa fa-print"},{xtype:"euibutton",iconCls:"x-fa fa-sign-out",listeners:{click:{fn:function(f,g,d){var c=a.getForm().getValues();Ext.iterate(c,function(e,h){c[e]=null});a.getForm().setValues(c);a.fireEvent("baseformreset",a)}}}}]};Ext.apply(a,{header:b})}});Ext.define("eui.form.RadioGroup",{extend:"Ext.form.RadioGroup",xtype:"euiradiogroup",mixins:["eui.mixin.FormField"],cellCls:"fo-table-row-td",width:"100%",initComponent:function(){this.setCheckboxGroupRadioGroupBindVar();this.setAllowBlank();this.callParent(arguments)}});Ext.define("eui.form.field.Checkbox",{extend:"Ext.form.field.Checkbox",alias:"widget.spcheckbox",inputValue:"Y",uncheckedValue:"N",cellCls:"fo-table-row-td",initComponent:function(){var a=this;a.callParent(arguments)},getValue:function(){return this.getSubmitValue()}});Ext.define("eui.form.field.ComboBoxController",{extend:"Ext.app.ViewController",alias:"controller.spcombo",onSelect:function(e,a){var d=this;if(e.column&&e.valueColumnDataIndex){var c=e.column.up("tablepanel");var b=c.getSelectionModel();var f=b.getLastSelected();f.set(e.valueColumnDataIndex,a.get(e.originalValueField))}d.nextBindFields(a)},beforeCheckParamValue:function(d){var j=this,c=this.getView(),i=c.store.getProxy().extraParams,h=this.getComboData();var e=c.checkAutoLoad();if(c.column){e=true}if(c.queryMode=="remote"&&(d.combo.lastQuery==undefined)&&e){d.combo.lastQuery=""}var b=Ext.getCmp(c.ownerNextBindFieldId);if(c.ownerNextBindVar&&c.column){if(b.column){var a=b.column.up("tablepanel"),g=a.getSelectionModel(),f=g.getLastSelected(),k=(b.valueColumnDataIndex?b.valueColumnDataIndex:b.column.dataIndex);console.log("이 콤보를 연계해 사용중인 콤보가 존재함.:",c.ownerNextBindFieldId,c.ownerNextBindParam,"변경전값:",b.getValue(),"변경후:",f.get(k));b.setValue(f.get(k))}h[c.ownerNextBindParam]=b.getValue()}if(Ext.Object.toQueryString(i)!=Ext.Object.toQueryString(h)){console.log("조건이 변경되었음.: ",Ext.Object.toQueryString(i),"||",Ext.Object.toQueryString(h));Ext.apply(c.store.getProxy().extraParams,h);delete d.combo.lastQuery;if(d.combo.useLocalFilter){d.combo.store.load()}}},enableEditor:function(c){var f=this.getView();var b=c.up("tablepanel");var e=b.findPlugin("cellediting");var a=b.getSelectionModel();var h=a.getLastSelected();var g=b.store.indexOf(h);var d=b.view.getNode(h);if(h){if(e){if(e.clicksToEdit==1){Ext.get(d).select(".x-grid-cell-"+c.getId()).elements[0].click()}else{b.editingPlugin.startEditByPosition({row:g,column:c.fullColumnIndex})}}return true}return false},nextBindFields:function(c){var d=this,e=this.getView();if(!e.nextBindFields){return}var b=Ext.Array.filter(Ext.ComponentQuery.query("[bind][isFormField]"),function(f){var g=true;if(e.getId()==f.getId()){g=false}return g});var a=Ext.Array.filter(Ext.ComponentQuery.query("gridcolumn"),function(f){var g=false;if(e.column&&e.column.up("tablepanel").getId()==f.ownerCt.grid.getId()&&f.config.editor){g=true}return g});Ext.each(a,function(f){b.push(f)});Ext.each(e.nextBindFields,function(f){var g=f.split("|"),h=(g.length==1?g[0]:g[1]);Ext.each(b,function(m){var k=Ext.ClassManager.getNameByAlias("widget."+m.xtype);var l=Ext.ClassManager.get(k);if(m.isFormField&&m.getBind()){if(m.getBind().hasOwnProperty("value")&&g[0]==m.getBind().value.stub.path){if(l.prototype.xtypesMap.euicombo){m.setValue(null);if(c){m.ownerNextBindVar=g[0];m.ownerNextBindParam=h;m.ownerNextBindFieldId=e.getId();m.proxyParams[h]=c.get((m.column?e.originalValueField:e.valueField));var n=true;if(m.column){n=d.enableEditor(m.column)}if(e.nextBindComboExpand&&n){Ext.defer(function(){Ext.get(m.getId()+"-triggerWrap").select("#"+m.getId()+"-trigger-picker").elements[0].click()},500)}}else{if(m.column){d.enableEditor(m.column);Ext.defer(function(){m.column.up("tablepanel").editingPlugin.completeEdit()},100)}m.clearValue()}}else{m.setValue(null)}}}else{if("Ext.grid.column.Column"==k){if(m.config.editor.bind=="{"+g[0]+"}"){console.log("editor render 여부.",m.hasEditor());var j=m.config.editor;if(!m.hasEditor()){console.log("editor 존재하지 않아 obj에 설정함. :",h,e.getId());var i=j.setProxyParams();i[h]=(c?c.get(e.originalValueField):null);j.setProxyParams=function(){return i};j.ownerNextBindVar=g[0];j.ownerNextBindParam=h;j.ownerNextBindFieldId=e.getId();d.enableEditor(m);if(e.nextBindComboExpand){Ext.defer(function(){var o=m.getEditor().getId();Ext.get(o+"-triggerWrap").select("#"+o+"-trigger-picker").elements[0].click()},500)}}}}}})})},clearValue:function(){var c=this,d=this.getView();if(d.column&&d.valueColumnDataIndex){var b=d.column.up("tablepanel");var a=b.getSelectionModel();var e=a.getLastSelected();e.set(d.valueColumnDataIndex,null)}c.nextBindFields(null)},getComboData:function(){var a=this,c={},b=this.getView();c[b.defaultParam]=b[b.defaultParam];Ext.each(b.relBindVars,function(d){var e=d.split("|"),g=(e.length==1?e[0]:e[1]),g=g.split("@")[0],f=d.split("@");c[g]=(f.length==2?f[1]:a.getViewModel().get(e[0]))});Ext.apply(c,b.getProxyParams());return c},createStore:function(d,c){var e=this,a=this.getView(),b=Ext.create("Ext.data.Store",{autoDestroy:true,autoLoad:a.checkAutoLoad(),storeId:a.generateUUID(),fields:c.fields,proxy:{type:a.proxyType,noCache:false,pageParam:false,startParam:false,limitParam:false,headers:{"Content-Type":"application/json;charset=utf-8"},paramsAsJson:true,actionMethods:{create:"POST",read:"POST",update:"POST",destroy:"POST"},url:c.url,reader:{type:"json",rootProperty:"data",transform:c.transform||false},extraParams:c.params}});d.bindStore(b);return b},init:function(){var b=this,a=this.getView();if(a.store.storeId!="ext-empty-store"){return}a.proxyParams=a.setProxyParams();if(a.useLocalFilter){a.queryMode="local"}b.createStore(a,{url:a.proxyUrl,fields:[],params:b.getComboData()});b.getView().store.on("load",function(c){console.log("store load ::",c.getProxy().extraParams)})}});Ext.define("eui.form.field.ComboBox",{extend:"Ext.form.field.ComboBox",alias:"widget.euicombo",requires:["Util","eui.form.field.ComboBoxController"],controller:"spcombo",minChars:1,editable:false,emptyText:"선택하세요",cellCls:"fo-table-row-td",displayField:"NM",valueField:"CD",autoLoadOnValue:true,width:"100%",config:{nextBindComboExpand:true,proxyUrl:{},defaultParam:"groupCode",useLocalFilter:false,proxyParams:null,proxyType:"ajax",valueColumnDataIndex:null,relBindVars:null},triggers:{arrow:{cls:"x-form-clear-trigger",handler:"clearValue",scope:"this"}},valueNotFoundText:"검색결과가 존재하지 않습니다.",listeners:{select:"onSelect",beforequery:"beforeCheckParamValue"},initComponent:function(){var a=this;if(a.column&&a.valueColumnDataIndex){Ext.apply(a,{originalValueField:a.valueField,valueField:a.displayField})}a.callParent(arguments)},setProxyParams:function(){return{}},clearValue:function(){this.callParent(arguments);this.getController().clearValue()},generateUUID:function(){var b=new Date().getTime();var a="xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,function(e){var d=(b+Math.random()*16)%16|0;b=Math.floor(b/16);return(e=="x"?d:(d&7|8)).toString(16)});return a},checkAutoLoad:function(){if(this.value){return true}if(this.getBind()&&this.getBind()["value"]&&this.getBind().value.stub.hadValue){return true}return false}});Ext.define("eui.form.field.ComboBoxController_",{extend:"Ext.app.ViewController",alias:"controller.spcombo_",getLastSelectedRecord:function(c){if(!c){c=this.getView()}var b=c.column.up("tablepanel"),a=b.getSelectionModel(),d=a.getLastSelected();return d},onSelect:function(c,a){var b=this;if(c.column&&c.valueColumnDataIndex){var d=b.getLastSelectedRecord();d.set(c.valueColumnDataIndex,a.get(c.originalValueField))}b.nextBindFields(a)},beforeCheckParamValue:function(b){var c=this,e=this.getView(),h=e.store.getProxy().extraParams,d=this.getComboData();if(e.useLocalFilter&&b.combo.lastQuery==undefined&&!e.checkAutoLoad()){e.store.load({callback:function(){e.expand()}})}if(e.queryMode=="remote"&&(b.combo.lastQuery==undefined)&&e.checkAutoLoad()){b.combo.lastQuery=""}if(e.ownerNextBindVar&&e.column){var a=Ext.getCmp(e.ownerNextBindFieldId),g=c.getLastSelectedRecord(a),f=(a.valueColumnDataIndex?a.valueColumnDataIndex:a.column.dataIndex);a.setValue(g.get(f));d[e.ownerNextBindParam]=a.getValue()}if(Ext.Object.toQueryString(h)!=Ext.Object.toQueryString(d)){Ext.apply(e.store.getProxy().extraParams,d);delete b.combo.lastQuery;if(b.combo.useLocalFilter){b.combo.store.load()}}},getGrid:function(a){if(!a){a=this.getView()}return a.column.up("tablepanel")},enableEditor:function(c){var b=c.up("tablepanel"),a=b.getSelectionModel(),e=a.getLastSelected(),d=b.store.indexOf(e);if(e){b.editingPlugin.startEditByPosition({row:d,column:c.fullColumnIndex});return true}return false},getAllBindFormFields:function(a){return Ext.Array.filter(Ext.ComponentQuery.query("[bind][isFormField]"),function(b){var c=true;if(a.getId()==b.getId()){c=false}if(b.column){c=false}return c})},getAllEditorColumns:function(c){var b=this;var a=Ext.Array.filter(Ext.Array.clone(Ext.ComponentQuery.query("gridcolumn")),function(d){var e=false;if(b.getGrid().getId()==d.ownerCt.grid.getId()){e=true}return e});return a},setNextBindSpCombo:function(d,a,c,f,b){b.setValue(null);if(a){b.ownerNextBindVar=c[0];b.ownerNextBindParam=f;b.ownerNextBindFieldId=d.getId();b.proxyParams[f]=a.get((b.column?d.originalValueField:d.valueField));var e=true;if(b.column){e=this.enableEditor(b.column)}if(d.nextBindComboExpand&&e){Ext.defer(function(){Ext.get(b.getId()).select(".x-form-arrow-trigger").elements[0].click()},500)}}else{if(b.column){me.enableEditor(b);Ext.defer(function(){b.column.up("tablepanel").editingPlugin.completeEdit()},100)}b.clearValue()}},nextBindFields:function(b){var c=this,d=this.getView();if(!d.nextBindFields){return}var a=c.getAllBindFormFields(d);if(d.column){Ext.each(c.getAllEditorColumns(d),function(e){if(e.config.editor){a.push(e.getEditor())}})}console.log("targetFields",a);Ext.each(d.nextBindFields,function(e){var f=e.split("|"),g=(f.length==1?f[0]:f[1]);Ext.each(a,function(j){var h=Ext.ClassManager.getNameByAlias("widget."+j.xtype);var i=Ext.ClassManager.get(h);if(j.isFormField&&j.getBind()){if(j.getBind().hasOwnProperty("value")&&f[0]==j.getBind().value.stub.path){if(i.prototype.xtypesMap.spcombo){console.log("xtype:",j,f[0]);c.setNextBindSpCombo(d,b,f,g,j)}else{j.setValue(null)}}}else{}})})},clearValue:function(){var a=this,b=this.getView();if(b.column&&b.valueColumnDataIndex){var c=a.getLastSelectedRecord();c.set(b.valueColumnDataIndex,null)}a.nextBindFields(null)},getComboData:function(){var a=this,c={},b=this.getView();c[b.defaultParam]=b[b.defaultParam];if(b.column){}Ext.each(b.relBindVars,function(d){var e=d.split("|"),g=(e.length==1?e[0]:e[1]),g=g.split("@")[0],f=d.split("@");c[g]=(f.length==2?f[1]:a.getViewModel().get(e[0]))});Ext.apply(c,b.getProxyParams());return c},createStore:function(d,c){var e=this,a=this.getView(),b=Ext.create("Ext.data.Store",{autoDestroy:true,autoLoad:false,storeId:a.generateUUID(),fields:c.fields,proxy:{type:a.proxyType,noCache:false,pageParam:false,startParam:false,limitParam:false,headers:{"Content-Type":"application/json;charset=utf-8"},paramsAsJson:true,actionMethods:{create:"POST",read:"POST",update:"POST",destroy:"POST"},url:c.url,reader:{type:"json",rootProperty:"data",transform:c.transform||false},extraParams:c.params}});d.bindStore(b);return b},init:function(){var b=this,a=this.getView();if(a.store.storeId!="ext-empty-store"){return}a.setProxyParams();if(a.useLocalFilter){a.queryMode="local"}b.createStore(a,{url:a.proxyUrl,fields:[],params:b.getComboData()})}});Ext.define("eui.form.field.ComboBoxController_today",{extend:"Ext.app.ViewController",alias:"controller.spcombotoday",onSelect:function(e,a){var d=this;if(e.column&&e.valueColumnDataIndex){var c=e.column.up("tablepanel");var b=c.getSelectionModel();var f=b.getLastSelected();f.set(e.valueColumnDataIndex,a.get(e.originalValueField))}d.nextBindFields(a)},beforeCheckParamValue:function(d){var i=this,c=this.getView(),h=c.store.getProxy().extraParams,g=this.getComboData();if(c.useLocalFilter&&d.combo.lastQuery==undefined&&!c.checkAutoLoad()){c.store.load({callback:function(){c.expand()}})}if(c.queryMode=="remote"&&(d.combo.lastQuery==undefined)&&c.checkAutoLoad()){d.combo.lastQuery=""}if(c.ownerNextBindVar&&c.column){var b=Ext.getCmp(c.ownerNextBindFieldId),a=b.column.up("tablepanel"),f=a.getSelectionModel(),e=f.getLastSelected(),j=(b.valueColumnDataIndex?b.valueColumnDataIndex:b.column.dataIndex);b.setValue(e.get(j));g[c.ownerNextBindParam]=b.getValue()}console.log("조건 확인1: ",Ext.Object.toQueryString(h));console.log("조건 확인2: ",Ext.Object.toQueryString(g));if(Ext.Object.toQueryString(h)!=Ext.Object.toQueryString(g)){Ext.apply(c.store.getProxy().extraParams,g);delete d.combo.lastQuery;if(d.combo.useLocalFilter){d.combo.store.load()}}},enableEditor:function(c){var b=c.column.up("tablepanel");var a=b.getSelectionModel();var e=a.getLastSelected();var d=b.store.indexOf(e);if(e){b.editingPlugin.startEditByPosition({row:d,column:c.column.fullColumnIndex});return true}return false},nextBindFields:function(c){var e=this,f=this.getView();if(!f.nextBindFields){return}var b=Ext.Array.filter(Ext.ComponentQuery.query("[bind]"),function(g){var h=true;if(f.getId()==g.getId()){h=false}if(g.column){h=false}return h});var a=Ext.Array.filter(Ext.ComponentQuery.query("gridcolumn"),function(g){var h=false;if(f.column&&f.column.up("tablepanel").getId()==g.ownerCt.grid.getId()&&g.getEditor()){h=true}return h});console.log("editorColumn",a);var d=Ext.Array.filter(Ext.ComponentQuery.query("hcombobox[isFormField]"),function(g){var h=true;return h});console.log("targetFields2",d);Ext.each(d,function(g){console.log("combo:",g.rendered,g.getId())});Ext.each(a,function(g){b.push(g.getEditor())});Ext.each(f.nextBindFields,function(g){var h=g.split("|"),i=(h.length==1?h[0]:h[1]);Ext.each(b,function(l){var j=Ext.ClassManager.getNameByAlias("widget."+l.xtype);var k=Ext.ClassManager.get(j);if(l.isFormField&&l.getBind()){if(l.getBind().hasOwnProperty("value")&&h[0]==l.getBind().value.stub.path){if(k.prototype.xtypesMap.spcombo){l.setValue(null);if(c){l.ownerNextBindVar=h[0];l.ownerNextBindParam=i;l.ownerNextBindFieldId=f.getId();console.log(l.proxyParams,c,l.column,f.originalValueField,f.valueField);l.proxyParams[i]=c.get((l.column?f.originalValueField:f.valueField));var m=true;if(l.column){m=e.enableEditor(l)}if(f.nextBindComboExpand&&m){Ext.defer(function(){},500)}}else{if(l.column){e.enableEditor(l);Ext.defer(function(){l.column.up("tablepanel").editingPlugin.completeEdit()},100);l.clearValue()}}}else{l.setValue(null)}}}else{}})})},clearValue:function(){var c=this,d=this.getView();if(d.column&&d.valueColumnDataIndex){var b=d.column.up("tablepanel");var a=b.getSelectionModel();var e=a.getLastSelected();e.set(d.valueColumnDataIndex,null)}c.nextBindFields(null)},getComboData:function(){var a=this,c={},b=this.getView();c[b.defaultParam]=b[b.defaultParam];if(b.column){}Ext.each(b.relBindVars,function(d){var e=d.split("|"),g=(e.length==1?e[0]:e[1]),g=g.split("@")[0],f=d.split("@");c[g]=(f.length==2?f[1]:a.getViewModel().get(e[0]))});Ext.apply(c,b.getProxyParams());return c},createStore:function(d,c){var e=this,a=this.getView(),b=Ext.create("Ext.data.Store",{autoDestroy:true,autoLoad:a.checkAutoLoad(),storeId:a.generateUUID(),fields:c.fields,proxy:{type:a.proxyType,noCache:false,pageParam:false,startParam:false,limitParam:false,headers:{"Content-Type":"application/json;charset=utf-8"},paramsAsJson:true,actionMethods:{create:"POST",read:"POST",update:"POST",destroy:"POST"},url:c.url,reader:{type:"json",rootProperty:"data",transform:c.transform||false},extraParams:c.params}});d.bindStore(b);return b},init:function(){var b=this,a=this.getView();if(a.store.storeId!="ext-empty-store"){return}a.setProxyParams();if(a.useLocalFilter){a.queryMode="local"}b.createStore(a,{url:a.proxyUrl,fields:[],params:b.getComboData()})}});Ext.define("eui.form.field.ComboBox_",{extend:"Ext.form.field.ComboBox",alias:"widget.spcombo_",requires:["Util","eui.form.field.ComboBoxController"],controller:"spcombo",hideLabel:true,minChars:1,editable:false,emptyText:"선택하세요",cellCls:"fo-table-row-td",displayField:"NM",valueField:"CD",autoLoadOnValue:true,width:"100%",config:{nextBindComboExpand:true,proxyUrl:{},defaultParam:"groupCode",useLocalFilter:true,proxyParams:null,proxyType:"ajax",valueColumnDataIndex:null,relBindVars:null},triggers:{arrow:{cls:"x-form-clear-trigger",handler:"clearValue",scope:"this"}},valueNotFoundText:"검색결과가 존재하지 않습니다.",listeners:{select:"onSelect",beforequery:"beforeCheckParamValue"},initComponent:function(){var a=this;console.log("initComponent..",a.getId());if(a.column&&a.valueColumnDataIndex){Ext.apply(a,{originalValueField:a.valueField,valueField:a.displayField})}a.callParent(arguments);a.on("afterrender",function(){Ext.each(Ext.Array.clone(Ext.ComponentQuery.query("gridcolumn")),function(c,b){if(c.hasOwnProperty("editor")){console.log(c.getEditor())}})})},setProxyParams:function(){this.proxyParams={}},clearValue:function(){this.callParent(arguments);this.getController().clearValue()},generateUUID:function(){var b=new Date().getTime();var a="xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,function(e){var d=(b+Math.random()*16)%16|0;b=Math.floor(b/16);return(e=="x"?d:(d&7|8)).toString(16)});return a},checkAutoLoad:function(){if(this.value){return true}if(this.getBind()&&this.getBind()["value"]&&this.getBind().value.stub.hadValue){return true}return false}});Ext.define("eui.form.field.ComboBox_today",{extend:"Ext.form.field.ComboBox",alias:"widget.spcombotoday",requires:["Util","eui.form.field.ComboBoxController"],controller:"spcombo",hideLabel:true,minChars:1,editable:false,emptyText:"선택하세요",cellCls:"fo-table-row-td",displayField:"NM",valueField:"CD",autoLoadOnValue:true,width:"100%",lastQuery:"",config:{nextBindComboExpand:true,proxyUrl:{},defaultParam:"groupCode",useLocalFilter:false,proxyParams:null,proxyType:"ajax",valueColumnDataIndex:null,relBindVars:null},triggers:{arrow:{cls:"x-form-clear-trigger",handler:"clearValue",scope:"this"}},valueNotFoundText:"검색결과가 존재하지 않습니다.",listeners:{select:"onSelect",beforequery:"beforeCheckParamValue"},initComponent:function(){var a=this;console.log("initComponent..",a.getId());if(a.column&&a.valueColumnDataIndex){Ext.apply(a,{originalValueField:a.valueField,valueField:a.displayField})}a.callParent(arguments);a.on("afterrender",function(){Ext.each(Ext.Array.clone(Ext.ComponentQuery.query("gridcolumn")),function(c,b){})})},setProxyParams:function(){this.proxyParams={}},clearValue:function(){this.callParent(arguments);this.getController().clearValue()},generateUUID:function(){var b=new Date().getTime();var a="xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,function(e){var d=(b+Math.random()*16)%16|0;b=Math.floor(b/16);return(e=="x"?d:(d&7|8)).toString(16)});return a},checkAutoLoad:function(){if(this.value){return true}if(this.getBind()&&this.getBind()["value"]&&this.getBind().value.stub.hadValue){return true}return false}});Ext.define("eui.form.field.Date",{extend:"Ext.form.field.Date",alias:"widget.euidate",submitFormat:"Ymd",format:"Y.m.d",altFormats:"Ymd",value:new Date(),dateNum:null,width:"100%",cellCls:"fo-table-row-td",initComponent:function(){var a=this;var b=a.dateNum;a.callParent(arguments);if(!Ext.isEmpty(b)){a.setValue(a.dayCal(new Date(),b))}},dayCal:function(b,a){b.setDate(b.getDate()+a);return b}});Ext.define("eui.form.field.Display",{extend:"Ext.form.field.Display",alias:"widget.euidisplay",width:"100%",cellCls:"fo-table-row-td"});Ext.define("eui.form.field.File",{extend:"Ext.form.field.File",alias:"widget.euifile",width:"100%",cellCls:"fo-table-row-td"});Ext.define("eui.form.field.HtmlEditor",{extend:"Ext.form.field.HtmlEditor",alias:"widget.euihtmleditor",width:"100%",height:100,cellCls:"fo-table-row-td"});Ext.define("eui.form.field.Number",{extend:"Ext.form.field.Number",alias:"widget.euinumber",cellCls:"fo-table-row-td",hideTrigger:true,mouseWheelEnabled:false,fieldStyle:"text-align: right",decimalPrecision:0,useThousandSeparator:true,submitLocaleSeparator:false,value:0,width:"100%",initComponent:function(){var a=this;a.enableKeyEvents=true;a.callParent(arguments);a.setInterceptor(a);a.addListener("focus",function(){if(this.readOnly||this.disabled){return}this.setRawValue(this.value);if(!Ext.isWebKit){if(!!a.selectOnFocus){this.selectText()}}})},setInterceptor:function(a){Ext.Function.interceptAfter(a,"postBlur",function(d){var c=this,b=c.hasActiveError();delete c.needsValidateOnEnable;c.unsetActiveError();if(b){c.setError("");c.setValue("")}})},toRawNumber:function(a){return String(a).replace(this.decimalSeparator,".").replace(new RegExp(Ext.util.Format.thousandSeparator,"g"),"")},getErrors:function(d){if(!this.useThousandSeparator){return this.callParent(arguments)}var c=this,f=[],e=Ext.String.format,b="",a;d=Ext.isDefined(d)?d:this.processRawValue(this.getRawValue());if(d.length<1){return f}d=c.toRawNumber(d);b=d.replace(this.decimalSeparator,"");f=Ext.form.field.Text.prototype.getErrors.apply(c,[b]);if(isNaN(d.replace(Ext.util.Format.thousandSeparator,""))){f.push(e(c.nanText,d))}a=c.parseValue(d);if(c.minValue===0&&a<0){f.push(this.negativeText)}else{if(a<c.minValue){f.push(e(c.minText,c.minValue))}}if(a>c.maxValue){f.push(e(c.maxText,c.maxValue))}return f},getSubmitValue:function(){if(!this.useThousandSeparator){return this.callParent(arguments)}var a=this,b=a.callParent();if(!a.submitLocaleSeparator){b=a.toRawNumber(b)}return b},setMinValue:function(b){if(!this.useThousandSeparator){return this.callParent(arguments)}var a=this,c;a.minValue=Ext.Number.from(b,Number.NEGATIVE_INFINITY);a.toggleSpinners();if(a.disableKeyFilter!==true){c=a.baseChars+"";if(a.allowExponential){c+=a.decimalSeparator+"e+-"}else{c+=Ext.util.Format.thousandSeparator;if(a.allowDecimals){c+=a.decimalSeparator}if(a.minValue<0){c+="-"}}c=Ext.String.escapeRegex(c);a.maskRe=new RegExp("["+c+"]");if(a.autoStripChars){a.stripCharsRe=new RegExp("[^"+c+"]","gi")}}},parseValue:function(a){if(!this.useThousandSeparator){return this.callParent(arguments)}a=parseFloat(this.toRawNumber(a));return isNaN(a)?null:a},exNumber:function(g,d){var c=Ext.util.Format,y=/<\/?[^>]+>/gi,z=/(?:<script.*?>)((\n|\r|.)*?)(?:<\/script>)/ig,w=/\r?\n/g,f=/[^\d\.]/g,o;if(!d){return g}g=Ext.Number.from(g,NaN);if(isNaN(g)){return""}var x=c.thousandSeparator,l=c.decimalSeparator,a=g<0,h,e,k,b,s,t,r,q,u;g=Math.abs(g);if(d.substr(d.length-2)=="/i"){if(!o){o=new RegExp("[^\\d\\"+c.decimalSeparator+"]","g")}d=d.substr(0,d.length-2);h=d.indexOf(x)!=-1;e=d.replace(o,"").split(l)}else{h=d.indexOf(",")!=-1;e=d.replace(f,"").split(".")}if(e.length>2){}else{if(e.length>1){g=Ext.Number.toFixed(g,e[1].length)}else{g=Ext.Number.toFixed(g,0)}}k=g.toString();e=k.split(".");if(h){b=e[0];s=[];t=b.length;r=Math.floor(t/3);q=b.length%3||3;for(u=0;u<t;u+=q){if(u!==0){q=3}s[s.length]=b.substr(u,q);r-=1}k=s.join(x);if(e[1]){k+=l+e[1]}}else{if(e[1]){k=e[0]+l+e[1]}}if(a){a=k.replace(/[^1-9]/g,"")!==""}return(a?"-":"")+d.replace(/[\d,?\.?]+/,k)},valueToRaw:function(c){if(!this.useThousandSeparator){return this.callParent(arguments)}var b=this;var d="000,000";for(var a=0;a<b.decimalPrecision;a++){if(a==0){d+="."}d+="0"}c=b.parseValue(b.exNumber(c,d));c=b.fixPrecision(c);c=Ext.isNumber(c)?c:parseFloat(b.toRawNumber(c));c=isNaN(c)?"":String(b.exNumber(c,d)).replace(".",b.decimalSeparator);return c}});Ext.define("eui.form.field.PopupTrigger",{extend:"Ext.form.field.Text",alias:"widget.sppopup",hideLabel:true,config:{tempTitle:null},cellCls:"fo-table-row-td",displayField:"ENG_VALUE",valueField:"DT_CODE",triggers:{search:{cls:"x-form-search-trigger",handler:"onTriggerClick",scope:"this"}},pConfigs:{DEFAULT:{width:600,height:400,popupClass:"eui.ux.popup.DefaultPopup",autoSearch:true,url:"api/COM050101SVC/getCode",convertparam:function(a,b){var c={};Ext.each(a.formConfig,function(d){if(d.singleCheckParam){c[d.name]=d.value=b.getValue()}});return{groupCode:a.groupCode,SQL:Ext.apply(c,a.sql)}}},NONE:{}},selectedRecord:Ext.emptyFn,callBack:"onTriggerCallback",validateConfig:function(){},setpopupConfig:function(){},checkSingleResult:function(a){},onTriggerCallback:function(c,a,b,d){c.setValues(a.get(b),a.get(d),[a])},setValues:function(c,b,a){this.codeOldValue=this.getValue(),this.codeNewValue=c,this.nameOldValue=((this.nextSibling()&&this.nextSibling().xtype=="sptext")?this.nextSibling().getValue():""),this.nameNewValue=b;this.setValue(c);this.fireEvent("select",this,c,b,a,this.codeOldValue,this.nameOldValue)},onTriggerClick:function(){var b=this;var a={trigger:this,popupConfig:b.popupConfig,multiReturnValue:this.multiReturnValue,selectedRecord:this.selectedRecord()};b.validateConfig();Ext.apply(a,this.setSingleRowCondition());if(!b.popupConfig.title&&b.getTempTitle()){b.popupConfig.title=b.getTempTitle()}Util.commonPopup(this,b.popupConfig.title,b.popupConfig.popupClass,b.popupConfig.width,b.popupConfig.height,a,null,true).show()},initComponent:function(){var a=this;Ext.apply(a,{enableKeyEvents:true});a.setpopupConfig();a.callParent(arguments);a.addListener("specialkey",this.setSpecialKey,this);a.on("blur",a.onBlurHandler,this,{scope:this})},resetValues:function(){var a=this;if(!a.readOnly){a.setValue();if(a.nextSibling()){a.nextSibling().setValue();a.resetNextEditField()}else{if(a.column){}}}},onBlurHandler:function(){var b=this;var a=b.up("grid");if(a){}else{if((b.getValue()!=this.codeNewValue)&&!Ext.isEmpty(this.codeNewValue)){b.resetValues()}}},setSingleRowCondition:function(){},setSpecialKey:function(d,c,a){var b=this;if(c.getKey()===Ext.EventObject.ENTER&&!Ext.isEmpty(this.getValue())){console.log("setSpecialKey:",b.popupConfig.groupCode,d.id);if(!this.checkSingleResult(d)){d.onTriggerClick()}}},resetNextEditField:function(){var d=this;if(d.nextEditField){var b=d.up("grid");var c=b.findPlugin("cellediting");if(b){var a=b.getSelectionModel();selectedRecord=a.getLastSelected();selectedRecord.set(d.nextEditField,"");Ext.each(b.columns,function(f){if(d.nextEditField==f.dataIndex){c.startEdit(selectedRecord,f)}})}else{var e=Util.getOwnerCt(d).down("[searchId="+d.nextEditField+"]");if(!Ext.isEmpty(e)){e.setValue("")}}}}});Ext.define("eui.form.field.PopupTrigger2",{extend:"Ext.form.field.Text",alias:"widget.sppopup2",hideLabel:true,config:{tempTitle:null},cellCls:"fo-table-row-td",displayField:"ENG_VALUE",valueField:"DT_CODE",triggers:{search:{cls:"x-form-search-trigger",handler:"onTriggerClick",scope:"this"}},singleRowCheckParamName:"SEARCH_VALUE",codeNewValue:null,multiReturnValue:false,pType:"DEFAULT",pConfigs:{DEFAULT:{width:600,height:400,popupClass:"eui.ux.popup.DefaultPopup",autoSearch:true,url:"api/COM050101SVC/getCode",convertparam:function(b,a){var c={};Ext.each(b.formConfig,function(d){if(d.singleCheckParam){c[d.name]=d.value=a.getValue()}});return{groupCode:b.groupCode,SQL:Ext.apply(c,b.sql)}}},NONE:{}},selectedRecord:Ext.emptyFn,callBack:"onTriggerCallback",validateConfig:function(){if(!this.popupOption.popupClass){Ext.Error.raise({msg:"호출할 대상 팝업의 클래스명이 설정되지 않았습니다."})}},setPopupOption:function(){var b=this,a=Ext.clone(b.pConfigs[b.pType]);Ext.apply(a,b.popupOption);b.popupOption=a},checkSingleResult:function(d){var c=this,a=c.popupOption;if(!Ext.isFunction(a.convertparam)){a.convertparam=function(f){return{}||f.params}}var e=Ext.apply(a.convertparam(a,c),c.setSingleRowCondition());if(Ext.isEmpty(this.getValue())){return false}if(Ext.isEmpty(a.url)){return false}var b=false;Util.CommonAjax({url:a.url,params:e,pSync:false,pCallback:function(g,j,h,i){if(h&&h.data.length==1){var f=Ext.create("Ext.data.Model",h.data[0]);c.onTriggerCallback(c,f,c.valueField,c.displayField);b=true}else{b=false}}});return b},onTriggerCallback:function(e,c,a,b){if(c.isModel){e.setValues(c.get(a),c.get(b),[c])}else{if(Ext.isArray(c)){var d={code:"",name:""};Ext.each(c,function(i,f){var h=i.get(a),g=i.get(b);if(f==0){d.code=h;d.name=g}else{d.code=d.code+","+h;d.name=d.name+","+g}});e.setValues(d.code,d.name,c)}}},setValues:function(e,c,b){this.codeOldValue=this.getValue(),this.codeNewValue=e,this.nameOldValue=((this.nextSibling()&&this.nextSibling().xtype=="sptextfield")?this.nextSibling().getValue():""),this.nameNewValue=c;this.setValue(e);if(this.column){var d=this.column.up("grid");var a=d.getSelectionModel();a.getLastSelected().set(this.column.dataIndex,e)}this.resetNextEditField();if(this.nextSibling()&&this.nextSibling().isFormField){this.fireEvent("popupvaluechange",this,this.codeNewValue,this.codeOldValue,this.nameNewValue,this.nameOldValue,b)}else{this.fireEvent("popupvaluechange",this,e,c,b)}},onTriggerClick:function(){var b=this;var a={trigger:this,popupOption:b.popupOption,multiReturnValue:this.multiReturnValue,selectedRecord:this.selectedRecord()};b.validateConfig();Ext.apply(a,this.setSingleRowCondition());if(!b.popupOption.title&&b.getTempTitle()){b.popupOption.title=b.getTempTitle()}Util.commonPopup(this,b.popupOption.title,b.popupOption.popupClass,b.popupOption.width,b.popupOption.height,a,null,true).show();this.fireEvent("ontriggerclick",this,event)},initComponent:function(){var a=this;Ext.apply(a,{enableKeyEvents:true});if(a.valueField){Ext.apply(a,{valueField:a.valueField})}if(a.displayField){Ext.apply(a,{displayField:a.displayField})}a.setPopupOption();a.callParent(arguments);a.addListener("specialkey",this.setSpecialKey,this);a.on("blur",a.onBlurHandler,this,{scope:this});a.on("afterrender",function(){var c=this;if("sppopuptriggerset"===this.ownerCt.xtype||"sptriggercombo"===this.ownerCt.xtype){c=this.ownerCt}var b=c.previousSibling();if(b&&b.xtype==="euilabel"){this.setTempTitle(b.text)}if(this.ownerCt.xtype==="editor"){this.setTempTitle(this.ownerCt.context.column.text)}})},resetValues:function(){var a=this;if(!a.readOnly){a.setValue();if(a.nextSibling()){a.nextSibling().setValue();a.resetNextEditField()}else{if(a.column){Ext.defer(function(){},10)}}}},onBlurHandler:function(){var b=this;var a=b.up("grid");if(a){}else{if((b.getValue()!=this.codeNewValue)&&!Ext.isEmpty(this.codeNewValue)){b.resetValues()}}},setSingleRowCondition:function(){if(this.popupOption.singleRowCheckParamName){this.singleRowCheckParamName=this.popupOption.singleRowCheckParamName}var a={};a[this.singleRowCheckParamName]=this.getValue();if(!Ext.isEmpty(this.popupOption.params)){Ext.apply(a,this.popupOption.params)}return a},setSpecialKey:function(d,c,a){var b=this;if(c.getKey()===Ext.EventObject.ENTER&&!Ext.isEmpty(this.getValue())){console.log("setSpecialKey:",b.popupOption.groupCode,d.id);if(!this.checkSingleResult(d)){d.onTriggerClick()}}},resetNextEditField:function(){var d=this;if(d.nextEditField){var b=d.up("grid");var c=b.findPlugin("cellediting");if(b){var a=b.getSelectionModel();selectedRecord=a.getLastSelected();selectedRecord.set(d.nextEditField,"");Ext.each(b.columns,function(f){if(d.nextEditField==f.dataIndex){c.startEdit(selectedRecord,f)}})}else{var e=Util.getOwnerCt(d).down("[searchId="+d.nextEditField+"]");if(!Ext.isEmpty(e)){e.setValue("")}}}}});Ext.define("eui.form.field.PopupTriggerSet",{extend:"eui.form.FieldContainer",alias:"widget.sppopupset",requires:["eui.form.field.PopupTrigger"],codeFieldName:null,textFieldName:null,setCallBackData:function(d,f,c,b,e,a){this.down("sptext").setValue(c)},bindVar:{CD:null,NM:null},initComponent:function(){var b=this;var a={width:"60%",allowBlank:b.allowBlank||true,name:b.codeFieldName,xtype:"sppopup",bind:b.bindVar.CD,listeners:{select:{fn:"setCallBackData",scope:b}}};if(b.valueField){Ext.apply(a,{valueField:b.valueField})}if(b.displayField){Ext.apply(a,{displayField:b.displayField})}if(b.popupConfig){Ext.apply(a,{popupConfig:b.popupConfig})}var c=Ext.widget("sppopup",a);b.relayEvents(c,["select"]);Ext.apply(b,{items:[c,{name:b.textFieldName,allowBlank:b.allowBlank||true,width:"40%",readOnly:true,bind:b.bindVar.NM,xtype:"euitext"}]});b.callParent(arguments)}});Ext.define("eui.form.field.PopupTriggerSet2",{extend:"Ext.form.FieldContainer",alias:"widget.sppopupset2",requires:["eui.form.field.PopupTrigger"],codeFieldName:null,textFieldName:null,setCallBackData:function(d,f,b,c,e,a){this.down("sptextfield").setValue(c);this.fireEvent("popupvaluechange",d,f,b,c,e,a)},bindVar:{CD:null,NM:null},width:"100%",cellCls:"fo-table-row-td",initComponent:function(){var b=this;var a={width:"40%",allowBlank:b.allowBlank||true,name:b.codeFieldName,xtype:"sppopup",bind:b.bindVar.CD,listeners:{popupvaluechange:{fn:"setCallBackData",scope:b}}};Ext.apply(a,{popupOption:b.popupOption});if(b.valueField){Ext.apply(a,{valueField:b.valueField})}if(b.pType){Ext.apply(a,{pType:b.pType})}if(b.displayField){Ext.apply(a,{displayField:b.displayField})}if(b.popupOption){Ext.apply(a,{popupOption:b.popupOption})}Ext.apply(b,{layout:"column",items:[a,{name:b.textFieldName,allowBlank:b.allowBlank||true,width:"60%",readOnly:true,bind:b.bindVar.NM,xtype:"euitext"}]});b.callParent(arguments)}});Ext.define("eui.form.field.Radio",{extend:"Ext.form.field.Radio",alias:"widget.spradio",cellCls:"fo-table-row-td",initComponent:function(){var a=this;a.callParent(arguments)},getValue:function(){return this.getSubmitValue()}});Ext.define("eui.form.field.Text",{extend:"Ext.form.field.Text",alias:"widget.euitext",cellCls:"fo-table-row-td",width:"100%",fieldStyle:{display:"inherit"}});Ext.define("eui.form.field.TextArea",{extend:"Ext.form.field.TextArea",alias:"widget.euitextarea",cellCls:"fo-table-row-td",width:"100%",height:100,initComponent:function(){var a=this;a.callParent(arguments)}});Ext.define("eui.form.field.Trigger",{extend:"Ext.form.field.Text",alias:"widget.sptrigger",cellCls:"fo-table-row-td",triggers:{search:{handler:"onTriggerClick",scope:"this"}},onTriggerClick:function(){this.setValue("");this.fireEvent("ontriggerclick",this,event)},initComponent:function(){var a=this;a.callParent(arguments)}});Ext.define("eui.form.field.TriggerCombo",{extend:"Ext.form.FieldContainer",alias:"widget.sptriggercombo",requires:["eui.form.field.PopupTrigger"],codeFieldName:null,textFieldName:null,comboFieldName:null,setCallBackData:function(d,f,b,c,e,a){this.down("hcombobox").setValue(c);this.fireEvent("popupvaluechange",d,f,b,c,e,a)},width:"100%",bindVar:{CD:null,NM:null},cellCls:"fo-table-row-td",initComponent:function(){var b=this;var a={width:"40%",allowBlank:b.allowBlank||true,name:b.codeFieldName,xtype:"sppopuptrigger",bind:b.bindVar.CD,listeners:{popupvaluechange:{fn:"setCallBackData",scope:b}}};Ext.apply(a,{popupOption:b.popupOption});if(b.valueField){Ext.apply(a,{valueField:b.valueField})}if(b.pType){Ext.apply(a,{pType:b.pType})}if(b.displayField){Ext.apply(a,{displayField:b.displayField})}if(b.popupOption){Ext.apply(a,{popupOption:b.popupOption})}Ext.apply(b,{layout:"column",items:[a,{width:"60%",displayField:b.displayField,valueField:b.displayField,name:b.comboFieldName,editable:true,allowBlank:b.allowBlank||true,groupCode:((b.popupOption)?b.popupOption.groupCode:""),sql:((b.popupOption)?b.popupOption.sql:""),bind:b.bindVar.NM,xtype:"spcombo",listeners:{select:{fn:function(e,d){if(Ext.isArray(d)){d=d[0]}var c=this.down("sppopuptrigger");c.codeNewValue=d.get(this.valueField);c.setValue(d.get(this.valueField));this.fireEvent("popupvaluechange",e,null,null,null,null,[d])},scope:b}}}]});b.callParent(arguments)}});Ext.define("eui.view.Merge",{extend:"Ext.view.Table",xtype:"mergetableview",cellTpl:['<td <tpl if="colspan">colspan={colspan}</tpl> <tpl if="rowspan">rowspan={rowspan}</tpl> class="{tdCls}" role="{cellRole}" {tdAttr} {cellAttr:attributes}',' style="width:{column.cellWidth}px;<tpl if="tdStyle">{tdStyle}</tpl>"',' tabindex="-1" data-columnid="{[values.column.getItemId()]}">','<div {unselectableAttr} class="'+Ext.baseCSSPrefix+'grid-cell-inner {innerCls}" ','style="text-align:{align};<tpl if="style">{style}</tpl>" ',"{cellInnerAttr:attributes}>{value}</div>","</td>",{priority:0}],renderCell:function(d,g,f,m,i,e){var k=this,b,h=k.selectionModel,j=k.cellValues,c=j.classes,a=g.data[d.dataIndex],n=k.cellTpl,o,l,q=k.navigationModel.getPosition();if(g.data[d.dataIndex+"hidden"]){return}j.rowspan=g.get(d.dataIndex+"rowspan");j.colspan=g.get(d.dataIndex+"colspan");j.record=g;j.column=d;j.recordIndex=f;j.rowIndex=m;j.columnIndex=j.cellIndex=i;j.align=d.align;j.innerCls=d.innerCls;j.tdCls=j.tdStyle=j.tdAttr=j.style="";j.unselectableAttr=k.enableTextSelection?"":'unselectable="on"';c[1]=d.getCellId();l=2;if(d.renderer&&d.renderer.call){b=k.ownerCt.columnManager.getHeaderIndex(d);o=d.renderer.call(d.usingDefaultRenderer?d:d.scope||k.ownerCt,a,j,g,f,b,k.dataSource,k);if(j.css){g.cssWarning=true;j.tdCls+=" "+j.css;j.css=null}if(j.tdCls){c[l++]=j.tdCls}}else{o=a}j.value=(o==null||o==="")?d.emptyCellText:o;if(d.tdCls){c[l++]=d.tdCls}if(k.markDirty&&g.dirty&&g.isModified(d.dataIndex)){c[l++]=k.dirtyCls}if(d.isFirstVisible){c[l++]=k.firstCls}if(d.isLastVisible){c[l++]=k.lastCls}if(!k.enableTextSelection){c[l++]=k.unselectableCls}if(h&&(h.isCellModel||h.isSpreadsheetModel)&&h.isCellSelected(k,f,d)){c[l++]=k.selectedCellCls}if(q&&q.record.id===g.id&&q.column===d){c[l++]=k.focusedItemCls}c.length=l;j.tdCls=c.join(" ");n.applyOut(j,e);j.column=j.record=null},renderRow:function(g,a,f){var i=this,e=a===-1,h=i.selectionModel,l=i.rowValues,d=l.itemClasses,c=l.rowClasses,b=i.itemCls,k,j=i.rowTpl;l.rowAttr={};l.record=g;l.recordId=g.internalId;l.recordIndex=i.store.indexOf(g);l.rowIndex=a;l.rowId=i.getRowId(g);l.itemCls=l.rowCls="";if(!l.columns){l.columns=i.ownerCt.getVisibleColumnManager().getColumns()}d.length=c.length=0;if(!e){d[0]=b;if(!i.ownerCt.disableSelection&&h.isRowSelected){if(h.isRowSelected(g)){d.push(i.selectedItemCls)}}if(i.stripeRows&&a%2!==0){d.push(i.altRowCls)}if(i.getRowClass){k=i.getRowClass(g,a,null,i.dataSource);if(k){c.push(k)}}}if(f){j.applyOut(l,f,i.tableValues)}else{return j.apply(l,i.tableValues)}},rowTpl:["{%",'var dataRowCls = values.recordIndex === -1 ? "" : " '+Ext.baseCSSPrefix+'grid-row";',"%}",'<tr id="{rowId}" class="{[values.itemClasses.join(" ")]} {[values.rowClasses.join(" ")]} {[dataRowCls]}"',' data-boundView="{view.id}"',' data-recordId="{record.internalId}"',' data-recordIndex="{recordIndex}"',' role="{rowRole}" {rowAttr:attributes}>','<tpl for="columns">{%',"parent.view.renderCell(values, parent.record, parent.recordIndex, parent.rowIndex, xindex - 1, out, parent)","%}","</tpl>","</tr>",{priority:0}],renderRows:function(g,e,d,b){var f=this,h=f.rowValues,a=g.length,c;h.view=f;h.columns=e;h.rowRole=f.rowAriaRole;f.cellValues.cellRole=f.cellAriaRole;for(c=0;c<a;c++,d++){h.itemClasses.length=h.rowClasses.length=0;f.renderRow(g[c],d,b)}h.view=h.columns=h.record=null},tpl:["{%","view = values.view;","if (!(columns = values.columns)) {","columns = values.columns = view.ownerCt.getVisibleColumnManager().getColumns();","}","values.fullWidth = 0;","for (i = 0, len = columns.length; i < len; i++) {","column = columns[i];","values.fullWidth += (column.cellWidth = column.lastBox ? column.lastBox.width : column.width || column.minWidth);","}","tableCls=values.tableCls=[];","%}",'<div class="'+Ext.baseCSSPrefix+'grid-item-container" role="presentation" style="width:{fullWidth}px">',"{[view.renderTHead(values, out, parent)]}",'<table id="{view.id}-table" class="{[tableCls]}" border="0" cellspacing="0" cellpadding="0" style="{tableStyle}" {ariaTableAttr}>','<tbody id="{view.id}-body" {ariaTbodyAttr}>',"{%","view.renderRows(values.rows, values.columns, values.viewStartIndex, out);","%}","</tbody>","</table>","</div>","{% ","view = columns = column = null;","%}",{definitions:"var view, tableCls, columns, i, len, column;",strict:true,priority:0}],outerRowTpl:["{%","this.nextTpl.applyOut(values, out, parent)","%}"],bodySelector:"div."+Ext.baseCSSPrefix+"grid-item-container table",nodeContainerSelector:"div."+Ext.baseCSSPrefix+"grid-item-container tbody",itemSelector:"tr."+Ext.baseCSSPrefix+"grid-row",rowSelector:"tr."+Ext.baseCSSPrefix+"grid-row",cellSelector:"td."+Ext.baseCSSPrefix+"grid-cell",sizerSelector:"."+Ext.baseCSSPrefix+"grid-cell",innerSelector:"div."+Ext.baseCSSPrefix+"grid-cell-inner",getRowByRecord:function(a){return this.retrieveNode(this.getRowId(a),false)}});Ext.define("eui.grid.Merge",{extend:"Ext.panel.Table",requires:["eui.view.Merge"],alias:["widget.mergegrid"],viewType:"mergetableview",lockable:false,columnLines:true,sortableColumns:false,rowLines:true,getTempStore:function(){var b=this,a=this.store;if(!b.tempStore){b.tempStore=Ext.create("Ext.data.Store",{model:"Eui.sample.model.Base",sorters:[b.lastMergeColumn+"key"]});a.each(function(c){b.tempStore.add(c.copy())})}return b.tempStore},cls:"stat-tdstyle",firstMergeColspan:3,addTotoalRow:function(){var d=this.store;var a=this.getTempStore();var c=this;var b=c.groupFields[0].field;var e={};e[b]="합";var f=Ext.Array.merge(Ext.pluck(c.groupFields,"field"),c.lastMergeColumn);e[b+"colspan"]=f.length;Ext.each(f,function(g,h){if(h>0){e[g+"hidden"]=true}});Ext.each(c.sumFields,function(g){e[g]=a.sum(g)});d.add(e)},generaRow:function(d,b,c,i){var g=this;for(var f in i){var a=f.split("@");if(a[0]===a[1]){a=a.slice(1,a.length)}var h=g.lastMergeColumn;var e=d.findRecord(h,a.join("@")+"@합");if(e){e.data[c]=i[f]}}},listeners:{render:function(){var b=this.store;var a=this;b.on("load",function(){b.suspendEvents();var c=a.getTempStore();a.addTotoalRow();Ext.each(a.groupFields,function(h,d){c.group(h.field);var e=c.sum(a.sumFields[0],true);for(var k in e){var g={};var j=Ext.Array.merge(Ext.pluck(a.groupFields,"field"),a.lastMergeColumn);var f=0;Ext.each(j,function(i,m){var l=k.split("@")[m+f];if(!l){l="합"}g[i]=l;var n=h.mergeConfig[m];if(h.mergeConfig[m]){g[n.field+n.cond]=n.value}f++});b.add(g)}Ext.each(a.sumFields,function(n,m){var l={};var i=c.sum(n,true);a.generaRow(b,h,n,i)})});b.resumeEvents();a.callMerge(b)})}},callMerge:function(b){var a=this;Ext.each(a.groupFields,function(c,k){var e=c.field;b.group(e);var h=b.count(e);for(var f in h){var g=f.split("@")[1];var d=b.findExact(e,f);var j=h[f];var i=b.getRange(d,d+j-1);i[0].data[c.field+"rowspan"]=j;Ext.each(i,function(m,l){if(l>0){m.data[c.field+"hidden"]=true}})}});b.group(null);b.sort([{property:a.lastMergeColumn,direction:"ASC"}]);a.getView().refresh()}});Ext.define("eui.grid.Panel",{extend:"Ext.grid.Panel",alias:"widget.euigrid",columnLines:true,localeProperties:["title"],mixins:["eui.mixin.Panel"],config:{showRowAddBtn:false,showRowDelBtn:false,showRowRegBtn:false,showRowModBtn:false,showRowSaveBtn:false,otherButtons:null,usePagingToolbar:false},initComponent:function(){var a=this;a.setBottomToolbar();a.callParent(arguments)},checkComplete:function(d,c){var b=c.grid.getView(),e=c.rowIdx,a=c.record,f=c.node.id;if(a.dirty){c.grid.selModel.doDeselect(a);Ext.get(f).select(".x-grid-row-checker").elements[0].click()}else{c.grid.selModel.doDeselect(a)}},checkDeselect:function(d,c){var b=c.grid.getView(),e=c.rowIdx,a=c.record,f=c.node.id;c.grid.selModel.doDeselect(a);Ext.get(f).select(".x-grid-row-checker").elements[0].click()},onRender:function(a){this.setPagingToolbarStore();this.callParent(arguments)},setPagingToolbarStore:function(){var a=this;if(a.getUsePagingToolbar()){if(this.bind&&this.bind.store){this.down("pagingtoolbar").setBind({store:"{"+this.bind.store.stub.name+"}"})}else{if(this.store){this.down("pagingtoolbar").bindStore(this.store)}}}},onRowAdd:function(e,g,b,h,f){if(!b){b=0}var c=e.getStore();if(Ext.isEmpty(b)){c.add(g)}else{c.insert(b,g)}var d=c.indexOf(g);console.log("index",d);var a=e.getSelectionModel();a.select(d);if(Ext.isEmpty(f)){f=e}if(Ext.isFunction(h)){Ext.callback(h,f,[e,a.getSelection()[0]])}},onRowDelete:function(b,f,c){var e=b.getSelection(),a=b.getSelection()[0],d;if(!a||!a.isModel){Ext.Msg.alert("Erorr","#{삭제할 항목을 선택하여 주십시오}");return}if(Ext.isArray(e)&&e.length>1){d=[];Ext.Array.each(e,function(g){d.push(g.getData())})}if(Ext.isEmpty(c)){c=b}Ext.Msg.show({title:"#{삭제}",buttons:Ext.Msg.YESNO,icon:Ext.Msg.QUESTION,message:"#{삭제하시겠습니까?}",fn:function(g){if(g==="yes"){if(Ext.isFunction(f)){Ext.callback(f,c,[b.store,e])}}}})},onSave:function(a){var b=this;b.store.sync()},onReload:function(){var a=this;a.store.reload()},setBottomToolbar:function(){var c=this;var b=[{xtype:"spbutton",text:"#{행추가}",iconCls:"#{행추가아이콘}",scope:c,hidden:!c.getShowRowAddBtn(),listeners:{click:function(){if(c.hasListeners["SPGridRowAdd".toLowerCase()]){c.fireEvent("SPGridRowAdd",c)}else{c.onRowAdd(c,{randomInt:Ext.Number.randomInt(1,1000000000000)},0,null)}}}},{xtype:"spbutton",iconCls:"#{행삭제아이콘}",text:"#{행삭제}",scope:c,hidden:!c.getShowRowDelBtn(),listeners:{click:function(){if(c.hasListeners["SPGridRowDel".toLowerCase()]){c.fireEvent("SPGridRowDel",c)}else{c.onRowDel(c,null,c)}}}},{xtype:"spbutton",text:"#{등록}",iconCls:"#{등록아이콘}",hidden:!c.getShowRowRegBtn(),listeners:{click:function(){c.fireEvent("SPGridRowReg",c)}}},{xtype:"spbutton",text:"#{수정}",iconCls:"#{수정아이콘}",hidden:!c.getShowRowModBtn(),listeners:{click:function(){c.fireEvent("SPGridRowMod",c)}}},{xtype:"spbutton",text:"#{저장}",iconCls:"#{저장아이콘}",hidden:!c.getShowRowSaveBtn(),listeners:{click:function(){if(c.hasListeners["SPGridRowSave".toLowerCase()]){c.fireEvent("SPGridRowSave",c)}else{c.onRowSave()}}}}];var a=this.applyButtonToolBar(b,this.otherButtons);if(c.getUsePagingToolbar()){if(Ext.isEmpty(c.dockedItems)){c.dockedItems=[]}c.dockedItems.push({xtype:"pagingtoolbar",dock:"bottom",displayInfo:true})}}});Ext.define("eui.grid.column.Check",{extend:"Ext.grid.column.Check",alias:"widget.spcheckcolumn",isRecordChecked:function(a){var b=this.property;if(b){return a[b]=="Y"}return a.get(this.dataIndex)=="Y"},setRecordCheck:function(b,d,a,h,f){var c=this,i=c.property,g=d?"Y":"N";if(i){b[i]=g}else{b.set(c.dataIndex,g)}c.updater(a,d)},initComponent:function(){var a=this;a.callParent(arguments)}});Ext.define("eui.grid.column.Column",{extend:"Ext.grid.column.Column",alias:"widget.spcolumn",initComponent:function(){var a=this;a.callParent(arguments)}});Ext.define("eui.mvvm.GridRenderer",{extend:"Ext.Mixin",mixinId:"gridrenderer",dateRenderer:function(a){var b;if(Ext.isDate(a)){return Ext.Date.format(a,"Y/m/d")}else{if(Ext.Date.parse(a,"Ymd")){b=Ext.Date.parse(a,"Ymd");return Ext.Date.format(b,"Y/m/d")}else{return a}}},currencyRenderer:function(a){if(Ext.isNumber(a)){return Ext.util.Format.number(a,"#,###.##")}else{return a}}});Ext.define("eui.grid.column.Date",{extend:"Ext.grid.column.Date",alias:"widget.spdatecolumn",format:"Y/m/d",align:"center",width:100,mixins:["eui.mvvm.GridRenderer"],initComponent:function(){var a=this;if(!a.renderer){a.renderer=a.dateRenderer}a.callParent(arguments)}});Ext.define("eui.grid.column.Number",{extend:"Ext.grid.column.Number",alias:"widget.euinumbercolumn",align:"right",mixins:["eui.mvvm.GridRenderer"],initComponent:function(){var a=this;if(!a.renderer){a.renderer=a.currencyRenderer}a.callParent(arguments)}});Ext.define("eui.mixin.BaseContainer",{extend:"Ext.Mixin",mixinConfig:{},config:{}});Ext.define("eui.mvvm.GridViewController",{extend:"Ext.Mixin",mixinId:"gridviewcontroller",mixinConfig:{},config:{},onRowAdd:function(d,e,a){console.log(arguments);return;var b=d.getStore();if(Ext.isEmpty(a)){b.add(e)}else{b.insert(a,e)}var c=b.indexOf(e);d.getView().focusRow(c);Ext.get(Ext.get(d.getView().getRow(c)).id).select(".x-grid-row-checker").elements[0].click()},onRowDel:function(d,i,j){var h=this,e=this.getMyViewController(d),f=i.prefix,a=d.up("grid"),b=d.up("grid").getSelection(),c=a.getSelection()[0];var g;if(!c||!c.isModel){Ext.Msg.alert("Erorr","삭제할 항목을 선택하여 주십시오");return}if(Ext.isArray(b)&&b.length>1){g=[];Ext.Array.each(b,function(k){g.push(k.getData())})}if(!Ext.isFunction(j)){j=function(){a.store.load();Ext.Msg.alert("확인","처리가 완료되었습니다.")}}Ext.Msg.show({title:"삭제",buttons:Ext.Msg.YESNO,icon:Ext.Msg.QUESTION,message:"삭제하시겠습니까?",fn:function(k){if(k==="yes"){a.store.remove(b);i.params={};i.params[f]={deleteData:g||[c.getData()]};i.params.__scopeGrid=a;i.pCallback=j;i.pScope=e;Util.CommonAjax(i)}}})},getMyViewController:function(a){if(Util.getOwnerCt(a).xtype==="window"){return Util.getOwnerCt(a).items.items[0].getController()}else{return Util.getOwnerCt(a).getController()}return null},onRowDataUpdate:function(c,d,g){var b=c.up("grid"),f=d.prefix,a=this.getMyViewController(c),e=b.store.getModifiedRecords();if(!Ext.isDefined(g)){g=function(){b.store.load();Ext.Msg.alert("확인","처리가 완료되었습니다.")}}d.params={};d.params[f]=Util.getDatasetParam(b.store);d.params.__scopeGrid=b;d.pCallback=g;d.pScope=a;Util.CommonAjax(d)},onRowReg:function(d,a,f){var c=d.up("grid"),e=c.store.getModifiedRecords(),b=0;Ext.each(e,function(g){if(!g.phantom){b++}});if(b===0){Ext.Msg.alert("확인","대상 레코드가 존재하지 않습니다.");return}this.onRowDataUpdate(d,a,f)},onRowMod:function(c,e,g){var b=c.up("grid"),d=b.store.getNewRecords(),f=b.store.getModifiedRecords(),a=0;if(d.length>0){Ext.Msg.alert("확인","등록이 필요합니다.");return}Ext.each(f,function(h){if(!h.phantom){a++}});if(a===0){Ext.Msg.alert("확인","대상 레코드가 존재하지 않습니다.");return}this.onRowDataUpdate(c,e,g)},onRowSave:function(c,d,f){var b=c.up("grid"),e=b.store.getModifiedRecords(),a=0;if(e.length===0){Ext.Msg.alert("확인","대상 레코드가 존재하지 않습니다.");return}this.onRowDataUpdate(c,d,f)}});Ext.define("eui.mvvm.HViewModel",{extend:"Ext.app.ViewModel"});Ext.define("eui.mvvm.ViewController",{extend:"Ext.app.ViewController",mixins:["eui.mixin.FormField","eui.mvvm.GridViewController","eui.mvvm.GridRenderer"],requires:["eui.Util"],init:function(){var b=this.vm=this.getViewModel(),a=this.view=this.getView()},baseFormSave:function(c,d,e){var a=d.alertTitle||"저장",b=d.alertMsg||"처리하시겠습니까?";d.pCallback=function(i,h,g,f){Ext.Msg.alert("처리완료","처리가 완료되었습니다.");if(Ext.isFunction(e)){e(i,h,g,f)}};HMsg.show({title:a,buttons:Ext.Msg.YESNO,icon:Ext.Msg.QUESTION,message:b,fn:function(f){if(f==="yes"){d.pScope=c;Util.CommonAjax(d)}}})},transaction:function(a,d,i,h,e,j,f,b,g){var c={url:Ext.util.Format.format("/{0}/{1}/",Util.getContextPath(),Util.getBaseUrl()),async:true,method:"POST",success:function(l,m){Ext.getBody().unmask();if(!Ext.isEmpty(l.responseText)){var n=Ext.decode(l.responseText),k=n[0].result;this.processCallback(k,e,b)}},failure:function(k,l){Ext.Msg.alert("Status","server-side failure with status code "+k.status);Ext.getBody().unmask();this.processCallback(null,e,b)},jsonData:{action:d,method:i,tid:Ext.id(),type:"rpc",data:[]},scope:this,timeout:g||30000,disableCaching:false};c=this.buildJsonData(c,h,j,e);if(f){Ext.getBody().mask("Please waiting...").dom.style.zIndex="99999";if(!Ext.Ajax.hasListener("requestexception")){Ext.Ajax.on("requestexception",function(m,k,l){Ext.getBody().unmask()})}}Ext.Ajax.request(c)}});Ext.define("eui.panel.Panel",{extend:"Ext.panel.Panel",alias:"widget.euipanel"});Ext.define("eui.toolbar.Command",{extend:"Ext.toolbar.Toolbar",xtype:"commandtoolbar",ui:"plain",config:{showText:true,showRowAddBtn:false,showRowDelBtn:false,showRegBtn:false,showReloadBtn:false,showModBtn:false,showSaveBtn:false,showCloseBtn:false},initComponent:function(){var b=this,a=this.up("grid,form");Ext.apply(b,{items:[{xtype:"euibutton",text:"#{행추가}",iconCls:"#{행추가아이콘}",scope:b,showText:b.getShowText(),hidden:!b.getShowRowAddBtn(),listeners:{click:function(){if(a.hasListeners["rowaddbtnclick".toLowerCase()]){a.fireEvent("rowaddbtnclick",a)}else{a.onRowAdd(a,{randomInt:Ext.Number.randomInt(1,1000000000000)},0,null)}}}},{xtype:"euibutton",iconCls:"#{행삭제아이콘}",text:"#{행삭제}",scope:b,hidden:!b.getShowRowDelBtn(),listeners:{click:function(){if(a.hasListeners["rowdeletebtnclick".toLowerCase()]){a.fireEvent("rowdeletebtnclick",a)}else{a.onRowDelete(a,null,a)}}}},{xtype:"euibutton",text:"#{등록}",iconCls:"#{등록아이콘}",hidden:!b.getShowRegBtn(),listeners:{click:function(){a.fireEvent("regbtnclick",a)}}},{xtype:"euibutton",text:"#{수정}",iconCls:"#{수정아이콘}",hidden:!b.getShowModBtn(),listeners:{click:function(){a.fireEvent("modbtnclick",a)}}},{xtype:"euibutton",text:"#{저장}",formBind:true,iconCls:"#{저장아이콘}",hidden:!b.getShowSaveBtn(),listeners:{click:function(){if(a.hasListeners["savebtnclick".toLowerCase()]){a.fireEvent("savebtnclick",a)}else{a.onSave(a)}}}},{xtype:"euibutton",text:"#{조회}",iconCls:"#{저장아이콘}",hidden:!b.getShowReloadBtn(),listeners:{click:function(){if(a.hasListeners["reloadbtnclick".toLowerCase()]){a.fireEvent("reloadbtnclick",a)}else{a.onReload()}}}},{xtype:"euibutton",text:"#{닫기}",iconCls:"x-fa fa-sign-out",hidden:!b.getShowCloseBtn(),listeners:{click:function(){var c=Util.getOwnerCt(this);if(Util.getOwnerCt(this).xtype==="window"){c.close()}else{Ext.Error.raise({msg:"닫기 버튼은 팝업에서만 사용가능합니다."})}}}}]});b.callParent(arguments)}});Ext.define("eui.ux.popup.DefaultPopup",{extend:"eui.container.PopupContainer",alias:"widget.popup-default",requires:[],viewModel:{stores:{commonpopupStore:{autoLoad:true,remoteSort:true,fields:[],proxy:{type:"rest",url:"api/COM050101SVC/getPopup",reader:{type:"json",rootProperty:"data"}}}}},layout:{type:"vbox",align:"stretch"},autoScroll:true,setCallbackData:function(){console.log(this);var a=Ext.create("Ext.data.Model",{CD:"AAAA",CD_NM:"코드명"});this.parentCallBack(a,"CD","CD_NM");this.up("window").close()},beforeRender:function(){var c=this,d=this.__PARAMS.popupConfig.formConfig,b=d.length,a=c.items.items[0].tableColumns,e=(b*2)%a==0?0:((a+1)-(b*2)%a);if(this.__PARAMS.popupConfig.title){c.items.items[0].title=this.__PARAMS.popupConfig.title}else{c.items.items[0].setHiddenHeader(true)}Ext.each(d,function(g,f){c.items.items[0].add({xtype:"euilabel",text:g.label},Ext.apply(g,{colspan:(f===(b-1)?e:0)}))});this.callParent(arguments)},onSearch:function(c){var d=Util.getOwnerCt(this).down("sppopupcontainer"),b=d.down("spgrid"),a=d.__PARAMS.popupConfig;if(c=="S"){}else{}b.store.getProxy().extraParams={groupCode:a.groupCode};if(!a.hiddenColumns){a.hiddenColumns=[]}b.store.load({callback:function(f,e,l){if(Ext.isEmpty(f)||f.length===0){return}var k=Object.keys(f[0].getData());var h=[];var j=[];var g=b.store.getAt(0);var i=function(o,m){if(o!=="id"){if(!Ext.isArray(a.hiddenColumns)){a.hiddenColumns=[a.hiddenColumns]}var n=Ext.Array.filter(a.hiddenColumns,function(s){return s.indexOf(o)!=-1});var r=Util.getLocaleValue(o),q=100;if(!g.get(o)){return}if(r.length<g.get(o).length){r=g.get(o)}if(r===0){q=200}else{q=r.length*10;if(q<100){q=100}}h.push({minWidth:q,text:"#{"+o+"}",dataIndex:o})}};Ext.each(a&&a.formConfig||[],function(m){j.push(m.name)});Ext.each(j,i);Ext.each(j,function(m){Ext.Array.remove(k,m)});Ext.each(k,i);b.reconfigure(this.store,h)}})},onLoad:function(){if(!this.__PARAMS.popupConfig.autoSearch){return}this.onSearch("S")},parentCallBack:function(b,a){this.callParent([a])},initComponent:function(){var a=this;Ext.apply(a,{items:[{tableColumns:4,hiddenCloseBtn:false,hiddenHeader:true,itemId:"popup",xtype:"spform",hiddenSearchBtn:false,listeners:{scome:a,baseformsearch:a.onSearch}},{xtype:"spgrid",flex:1,usePagingToolbar:true,bind:{store:"{commonpopupStore}"},listeners:{itemdblclick:{fn:a.parentCallBack,scope:a},afterrender:{scope:a,fn:"onLoad",delay:500}},forceFit:true,columns:{defaults:{width:120},items:[{text:"-",dataIndex:"temp"}]}}]});this.callParent(arguments);this.on("afterrender",function(){var b=this})}});Ext.define("eui.window.Notification",{extend:"Ext.window.Window",alias:"widget.uxNotification",cls:"ux-notification-window",autoClose:true,autoHeight:true,plain:false,draggable:false,shadow:false,focus:Ext.emptyFn,manager:null,useXAxis:false,position:"br",spacing:6,paddingX:30,paddingY:10,slideInAnimation:"easeIn",slideBackAnimation:"bounceOut",slideInDuration:1500,slideBackDuration:1000,hideDuration:500,autoCloseDelay:7000,stickOnClick:true,stickWhileHover:true,isHiding:false,isFading:false,destroyAfterHide:false,closeOnMouseOut:false,xPos:0,yPos:0,statics:{defaultManager:{el:null}},initComponent:function(){var a=this;if(Ext.isDefined(a.corner)){a.position=a.corner}if(Ext.isDefined(a.slideDownAnimation)){a.slideBackAnimation=a.slideDownAnimation}if(Ext.isDefined(a.autoDestroyDelay)){a.autoCloseDelay=a.autoDestroyDelay}if(Ext.isDefined(a.autoHideDelay)){a.autoCloseDelay=a.autoHideDelay}if(Ext.isDefined(a.autoHide)){a.autoClose=a.autoHide}if(Ext.isDefined(a.slideInDelay)){a.slideInDuration=a.slideInDelay}if(Ext.isDefined(a.slideDownDelay)){a.slideBackDuration=a.slideDownDelay}if(Ext.isDefined(a.fadeDelay)){a.hideDuration=a.fadeDelay}a.position=a.position.replace(/c/,"");a.updateAlignment(a.position);a.setManager(a.manager);a.callParent(arguments)},onRender:function(){var a=this;a.callParent(arguments);a.el.hover(function(){a.mouseIsOver=true},function(){a.mouseIsOver=false;if(a.closeOnMouseOut){a.closeOnMouseOut=false;a.close()}},a)},updateAlignment:function(a){var b=this;switch(a){case"br":b.paddingFactorX=-1;b.paddingFactorY=-1;b.siblingAlignment="br-br";if(b.useXAxis){b.managerAlignment="bl-br"}else{b.managerAlignment="tr-br"}break;case"bl":b.paddingFactorX=1;b.paddingFactorY=-1;b.siblingAlignment="bl-bl";if(b.useXAxis){b.managerAlignment="br-bl"}else{b.managerAlignment="tl-bl"}break;case"tr":b.paddingFactorX=-1;b.paddingFactorY=1;b.siblingAlignment="tr-tr";if(b.useXAxis){b.managerAlignment="tl-tr"}else{b.managerAlignment="br-tr"}break;case"tl":b.paddingFactorX=1;b.paddingFactorY=1;b.siblingAlignment="tl-tl";if(b.useXAxis){b.managerAlignment="tr-tl"}else{b.managerAlignment="bl-tl"}break;case"b":b.paddingFactorX=0;b.paddingFactorY=-1;b.siblingAlignment="b-b";b.useXAxis=0;b.managerAlignment="t-b";break;case"t":b.paddingFactorX=0;b.paddingFactorY=1;b.siblingAlignment="t-t";b.useXAxis=0;b.managerAlignment="b-t";break;case"l":b.paddingFactorX=1;b.paddingFactorY=0;b.siblingAlignment="l-l";b.useXAxis=1;b.managerAlignment="r-l";break;case"r":b.paddingFactorX=-1;b.paddingFactorY=0;b.siblingAlignment="r-r";b.useXAxis=1;b.managerAlignment="l-r";break}},getXposAlignedToManager:function(){var a=this;var b=0;if(a.manager&&a.manager.el&&a.manager.el.dom){if(!a.useXAxis){return a.el.getLeft()}else{if(a.position=="br"||a.position=="tr"||a.position=="r"){b+=a.manager.el.getAnchorXY("r")[0];b-=(a.el.getWidth()+a.paddingX)}else{b+=a.manager.el.getAnchorXY("l")[0];b+=a.paddingX}}}return b},getYposAlignedToManager:function(){var b=this;var a=0;if(b.manager&&b.manager.el&&b.manager.el.dom){if(b.useXAxis){return b.el.getTop()}else{if(b.position=="br"||b.position=="bl"||b.position=="b"){a+=b.manager.el.getAnchorXY("b")[1];a-=(b.el.getHeight()+b.paddingY)}else{a+=b.manager.el.getAnchorXY("t")[1];a+=b.paddingY}}}return a},getXposAlignedToSibling:function(a){var b=this;if(b.useXAxis){if(b.position=="tl"||b.position=="bl"||b.position=="l"){return(a.xPos+a.el.getWidth()+a.spacing)}else{return(a.xPos-b.el.getWidth()-b.spacing)}}else{return b.el.getLeft()}},getYposAlignedToSibling:function(a){var b=this;if(b.useXAxis){return b.el.getTop()}else{if(b.position=="tr"||b.position=="tl"||b.position=="t"){return(a.yPos+a.el.getHeight()+a.spacing)}else{return(a.yPos-b.el.getHeight()-a.spacing)}}},getNotifications:function(b){var a=this;if(!a.manager.notifications[b]){a.manager.notifications[b]=[]}return a.manager.notifications[b]},setManager:function(a){var b=this;b.manager=a;if(typeof b.manager=="string"){b.manager=Ext.getCmp(b.manager)}if(!b.manager){b.manager=b.statics().defaultManager;if(!b.manager.el){b.manager.el=Ext.getBody()}}if(typeof b.manager.notifications=="undefined"){b.manager.notifications={}}},beforeShow:function(){var a=this;if(a.stickOnClick){if(a.body&&a.body.dom){Ext.fly(a.body.dom).on("click",function(){a.cancelAutoClose();a.addCls("notification-fixed")},a)}}if(a.autoClose){a.task=new Ext.util.DelayedTask(a.doAutoClose,a);a.task.delay(a.autoCloseDelay)}a.el.setX(-10000);a.el.setOpacity(1)},afterShow:function(){var b=this;b.callParent(arguments);var a=b.getNotifications(b.managerAlignment);if(a.length){b.el.alignTo(a[a.length-1].el,b.siblingAlignment,[0,0]);b.xPos=b.getXposAlignedToSibling(a[a.length-1]);b.yPos=b.getYposAlignedToSibling(a[a.length-1])}else{b.el.alignTo(b.manager.el,b.managerAlignment,[(b.paddingX*b.paddingFactorX),(b.paddingY*b.paddingFactorY)],false);b.xPos=b.getXposAlignedToManager();b.yPos=b.getYposAlignedToManager()}Ext.Array.include(a,b);b.el.animate({from:{x:b.el.getX(),y:b.el.getY()},to:{x:b.xPos,y:b.yPos,opacity:1},easing:b.slideInAnimation,duration:b.slideInDuration,dynamic:true})},slideBack:function(){var c=this;var b=c.getNotifications(c.managerAlignment);var a=Ext.Array.indexOf(b,c);if(!c.isHiding&&c.el&&c.manager&&c.manager.el&&c.manager.el.dom&&c.manager.el.isVisible()){if(a){c.xPos=c.getXposAlignedToSibling(b[a-1]);c.yPos=c.getYposAlignedToSibling(b[a-1])}else{c.xPos=c.getXposAlignedToManager();c.yPos=c.getYposAlignedToManager()}c.stopAnimation();c.el.animate({to:{x:c.xPos,y:c.yPos},easing:c.slideBackAnimation,duration:c.slideBackDuration,dynamic:true})}},cancelAutoClose:function(){var a=this;if(a.autoClose){a.task.cancel()}},doAutoClose:function(){var a=this;if(!(a.stickWhileHover&&a.mouseIsOver)){a.close()}else{a.closeOnMouseOut=true}},removeFromManager:function(){var c=this;if(c.manager){var b=c.getNotifications(c.managerAlignment);var a=Ext.Array.indexOf(b,c);if(a!=-1){Ext.Array.erase(b,a,1);for(;a<b.length;a++){b[a].slideBack()}}}},hide:function(){var a=this;if(a.isHiding){if(!a.isFading){a.callParent(arguments);a.isHiding=false}}else{a.isHiding=true;a.isFading=true;a.cancelAutoClose();if(a.el){a.el.fadeOut({opacity:0,easing:"easeIn",duration:a.hideDuration,remove:a.destroyAfterHide,listeners:{afteranimate:function(){a.isFading=false;a.removeCls("notification-fixed");a.removeFromManager();a.hide(a.animateTarget,a.doClose,a)}}})}}return a},destroy:function(){var a=this;if(!a.hidden){a.destroyAfterHide=true;a.hide(a.animateTarget,a.doClose,a)}else{a.callParent(arguments)}}});