<!DOCTYPE html>
<html>
<head>
  <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
  <title>The source code</title>
  <link href="../resources/prettify/prettify.css" type="text/css" rel="stylesheet" />
  <script type="text/javascript" src="../resources/prettify/prettify.js"></script>
  <style type="text/css">
    .highlight { display: block; background-color: #ddd; }
  </style>
  <script type="text/javascript">
    function highlight() {
      document.getElementById(location.hash.replace(/#/, "")).className = "highlight";
    }
  </script>
</head>
<body onload="prettyPrint(); highlight();">
  <pre class="prettyprint lang-js"><span id='eui-form-field-PopUpPicker'>/***
</span> *
 * ## Summary
 *
 * 팝업을 호출하고 선택된 값을 설정한다.
 *
 **/

Ext.define(&#39;eui.form.field.PopUpPicker&#39;, {
    extend: &#39;Ext.form.field.Picker&#39;,
    alias: &#39;widget.euipopuppicker&#39;,
<span id='eui-form-field-PopUpPicker-property-triggerCls'>    triggerCls: &#39;x-form-search-trigger&#39;,
</span><span id='eui-form-field-PopUpPicker-property-cellCls'>    cellCls: &#39;fo-table-row-td&#39;,
</span><span id='eui-form-field-PopUpPicker-property-callBack'>    callBack: &#39;onTriggerCallback&#39;,
</span>    config: {
<span id='eui-form-field-PopUpPicker-cfg-simpleMode'>        simpleMode: false,
</span><span id='eui-form-field-PopUpPicker-cfg-displayField'>        displayField: &#39;NAME&#39;,
</span><span id='eui-form-field-PopUpPicker-cfg-valueField'>        valueField: &#39;CODE&#39;
</span>    },

<span id='eui-form-field-PopUpPicker-method-onTriggerCallback'>    onTriggerCallback: function (trigger, record, valueField, displayField) {
</span>        this.setValue(record.get(this.getValueField()));
    },

<span id='eui-form-field-PopUpPicker-property-enableKeyEvents'>    enableKeyEvents: true,
</span>
<span id='eui-form-field-PopUpPicker-property-matchFieldWidth'>    matchFieldWidth: false,
</span>
<span id='eui-form-field-PopUpPicker-method-doAlign'>    doAlign: function () {
</span>        var me = this,
            picker = me.picker,
            aboveSfx = &#39;-above&#39;,
            isAbove;

        // Align to the trigger wrap because the border isn&#39;t always on the input element, which
        // can cause the offset to be off
        if (me.simpleMode) {
            me.picker.alignTo(me.triggerWrap, me.pickerAlign, me.pickerOffset);
        }

        // add the {openCls}-above class if the picker was aligned above
        // the field due to hitting the bottom of the viewport
        isAbove = picker.el.getY() &lt; me.inputEl.getY();
        me.bodyEl[isAbove ? &#39;addCls&#39; : &#39;removeCls&#39;](me.openCls + aboveSfx);
        picker[isAbove ? &#39;addCls&#39; : &#39;removeCls&#39;](picker.baseCls + aboveSfx);
    },



<span id='eui-form-field-PopUpPicker-method-createPicker'>    createPicker: function (C) {        // #4
</span>        var me = this;
        if (!me.picker) {

            me.picker = Ext.create(&#39;Ext.panel.Panel&#39;, {
                title: me.popupConfig.title,
                floating: true,
                height: (me.simpleMode ? 300 : me.popupConfig.height),
                width: me.popupConfig.width,
                layout: &#39;fit&#39;,
                items: [
                    {
                        xtype: me.popupConfig.popupWidget,
                        height: (me.simpleMode ? 290 : me.popupConfig.height - 10),
                        tableColumns: 2,
                        trigger: me,
                        valueField: me.valueField,
                        __PARENT: me,
                        __PARAMS: {
                            popupConfig: me.popupConfig
                        },
                        multiReturnValue: false
                    }
                ]
            });
        }
//        me.picker.on(&#39;show&#39;, function () {
////            Ext.defer(function () {
//            me.fireEvent(&#39;pickerbeforeshow&#39;, me, me.picker);
////            },00)
//
//        })
        return me.picker;
    }
});</pre>
</body>
</html>
